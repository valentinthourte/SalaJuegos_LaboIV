import{a as w,b as O,c as h,d as A,e as E,f as P,g as T,h as I,j as R,k as _}from"./chunk-HNKKZMEU.js";import{$ as L,Ba as d,Ca as r,Da as o,Ea as x,Fa as S,Ga as p,Ha as y,Ia as a,Ja as C,Ka as v,La as b,Na as f,S as u,Wa as F,Xa as M,_ as k,na as s,oa as c,ya as g}from"./chunk-IRZHW6AB.js";import"./chunk-5PDZ6P5C.js";import"./chunk-RS6LHQUM.js";function U(e,z){e&1&&(r(0,"div",7)(1,"p"),a(2,"El usuario o la contrase\xF1a no son correctos. "),o()())}var Y=F(M.apiUrl,M.publicAnonKey),V=(()=>{class e{constructor(i,t){this.loginService=i,this.router=t,this.username="",this.password="",this.failedLogin=!1}login(){this.failedLogin=!1,this.loginService.login(this.username,this.password).then(i=>{i?(console.log("login exitoso, redireccionando a home"),this.router.navigate(["home"])):this.failedLogin=!0})}onAutocompletar(){this.username="cekegey447@hedotu.com",this.password="123456"}static{this.\u0275fac=function(t){return new(t||e)(c(_),c(h))}}static{this.\u0275cmp=u({type:e,selectors:[["app-login"]],standalone:!0,features:[f],decls:13,vars:3,consts:[[1,"login-container"],["type","text","placeholder","Username",1,"login-input",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"login-input",3,"ngModelChange","ngModel"],[1,"login-button",3,"click"],["name","autocompletar",1,"login-button",3,"click"],[1,"register-link-container"],["routerLink","../register",1,"register-link"],[1,"login-error"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"h3"),a(2,"Login"),o(),r(3,"input",1),b("ngModelChange",function(l){return v(n.username,l)||(n.username=l),l}),o(),r(4,"input",2),b("ngModelChange",function(l){return v(n.password,l)||(n.password=l),l}),o(),r(5,"button",3),p("click",function(){return n.login()}),a(6," login "),o(),r(7,"button",4),p("click",function(){return n.onAutocompletar()}),a(8,"Autocompletar"),o(),r(9,"div",5)(10,"a",6),a(11,"Register"),o()(),g(12,U,3,0,"div",7),o()),t&2&&(s(3),C("ngModel",n.username),s(),C("ngModel",n.password),s(8),d(12,n.failedLogin?12:-1))},dependencies:[R,P,T,I,A],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.login-input[_ngcontent-%COMP%]{width:300px;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:4px}.login-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px}.login-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-link-container[_ngcontent-%COMP%]{margin-top:20px}.register-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}.login-error[_ngcontent-%COMP%]{background-color:#96000080;border-radius:10px}.login-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;padding:5px}"]})}}return e})();var W=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:V},{path:"home",loadComponent:()=>import("./chunk-K4BSI5NE.js").then(e=>e.HomeComponent)},{path:"register",loadComponent:()=>import("./chunk-BHH55PKV.js").then(e=>e.RegisterComponent)}];var j={providers:[E(W)]};function q(e,z){if(e&1){let i=S();r(0,"button",3),p("click",function(){k(i);let n=y();return L(n.onLogout())}),a(1,"Log out"),o()}}var D=(()=>{class e{constructor(i,t){this.router=i,this.loginService=t,this.title="Sala de Juegos Valentin Thourte - Laboratorio IV"}onClickMenuOption(i){if(this.loginService.IsLoggedIn()){let t="/"+i.target.name;this.router.navigate([t])}else this.router.navigate(["/login"])}isLoggedIn(){return this.loginService.IsLoggedIn()}onLogout(){this.loginService.logout()}static{this.\u0275fac=function(t){return new(t||e)(c(h),c(_))}}static{this.\u0275cmp=u({type:e,selectors:[["app-root"]],standalone:!0,features:[f],decls:7,vars:1,consts:[["name","home",3,"click"],["name","quien-soy",3,"click"],["name","logout"],["name","logout",3,"click"]],template:function(t,n){t&1&&(r(0,"nav")(1,"button",0),p("click",function(l){return n.onClickMenuOption(l)}),a(2,"Home"),o(),r(3,"button",1),p("click",function(l){return n.onClickMenuOption(l)}),a(4,"Quien soy"),o(),g(5,q,2,0,"button",2),o(),x(6,"router-outlet")),t&2&&(s(5),d(5,n.isLoggedIn()?5:-1))},dependencies:[O]})}}return e})();w(D,j).catch(e=>console.error(e));
