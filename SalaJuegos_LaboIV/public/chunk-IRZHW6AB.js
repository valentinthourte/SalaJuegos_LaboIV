import{b as qs,c as Ws,f as _d,g as Gs}from"./chunk-5PDZ6P5C.js";import{a as Pn,b as jn,d as xe,f as yd,g as wd,h}from"./chunk-RS6LHQUM.js";var Is=xe(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});var _s=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};bs.default=_s});var xs=xe(gn=>{"use strict";var cu=gn&&gn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gn,"__esModule",{value:!0});var Ev=cu((Gs(),wd(_d))),xv=cu(Is()),Es=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ev.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c;let l=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let b=yield i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,f="OK")}catch{i.status===404&&m===""?(p=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,f="OK"),l&&this.shouldThrowOnError)throw new xv.default(l)}return{error:l,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};gn.default=Es});var Ds=xe(mn=>{"use strict";var Cv=mn&&mn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mn,"__esModule",{value:!0});var Dv=Cv(xs()),Cs=class extends Dv.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mn.default=Cs});var Xr=xe(vn=>{"use strict";var Tv=vn&&vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vn,"__esModule",{value:!0});var Mv=Tv(Ds()),Ts=class extends Mv.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};vn.default=Ts});var Ss=xe(wn=>{"use strict";var Sv=wn&&wn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});var yn=Sv(Xr()),Ms=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new yn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new yn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wn.default=Ms});var lu=xe(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.version=void 0;eo.version="0.0.0-automated"});var uu=xe(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.DEFAULT_HEADERS=void 0;var Nv=lu();to.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Nv.version}`}});var fu=xe(_n=>{"use strict";var du=_n&&_n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_n,"__esModule",{value:!0});var Av=du(Ss()),Ov=du(Xr()),kv=uu(),Ns=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},kv.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new Av.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=n);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Ov.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};_n.default=Ns});var wu=xe(B=>{"use strict";var Pt=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0});B.PostgrestError=B.PostgrestBuilder=B.PostgrestTransformBuilder=B.PostgrestFilterBuilder=B.PostgrestQueryBuilder=B.PostgrestClient=void 0;var hu=Pt(fu());B.PostgrestClient=hu.default;var pu=Pt(Ss());B.PostgrestQueryBuilder=pu.default;var gu=Pt(Xr());B.PostgrestFilterBuilder=gu.default;var mu=Pt(Ds());B.PostgrestTransformBuilder=mu.default;var vu=Pt(xs());B.PostgrestBuilder=vu.default;var yu=Pt(Is());B.PostgrestError=yu.default;B.default={PostgrestClient:hu.default,PostgrestQueryBuilder:pu.default,PostgrestFilterBuilder:gu.default,PostgrestTransformBuilder:mu.default,PostgrestBuilder:vu.default,PostgrestError:yu.default}});var zs=null;var Eo=1,xo=Symbol("SIGNAL");function M(e){let t=zs;return zs=e,t}var Qs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bd(e){if(!(To(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Eo)){if(!e.producerMustRecompute(e)&&!Co(e)){e.dirty=!1,e.lastCleanEpoch=Eo;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Eo}}function Js(e){return e&&(e.nextProducerIndex=0),M(e)}function Ks(e,t){if(M(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(To(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Do(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Co(e){Ln(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(bd(n),r!==n.version))return!0}return!1}function Ys(e){if(Ln(e),To(e))for(let t=0;t<e.producerNode.length;t++)Do(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Do(e,t){if(Id(e),Ln(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)Do(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ln(o),o.producerIndexOfThis[r]=t}}function To(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ln(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Id(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ed(){throw new Error}var xd=Ed;function Zs(e){xd=e}function w(e){return typeof e=="function"}function ht(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Fn=ht(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gt(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var U=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(w(r))try{r()}catch(i){t=i instanceof Fn?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Xs(i)}catch(s){t=t??[],s instanceof Fn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Fn(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Xs(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Gt(n,t)}remove(t){let{_finalizers:n}=this;n&&Gt(n,t),t instanceof e&&t._removeParent(this)}};U.EMPTY=(()=>{let e=new U;return e.closed=!0,e})();var Mo=U.EMPTY;function Vn(e){return e instanceof U||e&&"closed"in e&&w(e.remove)&&w(e.add)&&w(e.unsubscribe)}function Xs(e){w(e)?e():e.unsubscribe()}var le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pt={setTimeout(e,t,...n){let{delegate:r}=pt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=pt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function $n(e){pt.setTimeout(()=>{let{onUnhandledError:t}=le;if(t)t(e);else throw e})}function zt(){}var ea=So("C",void 0,void 0);function ta(e){return So("E",void 0,e)}function na(e){return So("N",e,void 0)}function So(e,t,n){return{kind:e,value:t,error:n}}var Ue=null;function gt(e){if(le.useDeprecatedSynchronousErrorHandling){let t=!Ue;if(t&&(Ue={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Ue;if(Ue=null,n)throw r}}else e()}function ra(e){le.useDeprecatedSynchronousErrorHandling&&Ue&&(Ue.errorThrown=!0,Ue.error=e)}var He=class extends U{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Vn(t)&&t.add(this)):this.destination=Td}static create(t,n,r){return new mt(t,n,r)}next(t){this.isStopped?Ao(na(t),this):this._next(t)}error(t){this.isStopped?Ao(ta(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ao(ea,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cd=Function.prototype.bind;function No(e,t){return Cd.call(e,t)}var Oo=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Un(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Un(r)}else Un(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Un(n)}}},mt=class extends He{constructor(t,n,r){super();let o;if(w(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&le.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&No(t.next,i),error:t.error&&No(t.error,i),complete:t.complete&&No(t.complete,i)}):o=t}this.destination=new Oo(o)}};function Un(e){le.useDeprecatedSynchronousErrorHandling?ra(e):$n(e)}function Dd(e){throw e}function Ao(e,t){let{onStoppedNotification:n}=le;n&&pt.setTimeout(()=>n(e,t))}var Td={closed:!0,next:zt,error:Dd,complete:zt};var vt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function K(e){return e}function Md(...e){return ko(e)}function ko(e){return e.length===0?K:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var S=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Nd(n)?n:new mt(n,r,o);return gt(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=oa(r),new r((o,i)=>{let s=new mt({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vt](){return this}pipe(...n){return ko(n)(this)}toPromise(n){return n=oa(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function oa(e){var t;return(t=e??le.Promise)!==null&&t!==void 0?t:Promise}function Sd(e){return e&&w(e.next)&&w(e.error)&&w(e.complete)}function Nd(e){return e&&e instanceof He||Sd(e)&&Vn(e)}function Ro(e){return w(e?.lift)}function T(e){return t=>{if(Ro(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function x(e,t,n,r,o){return new Po(e,t,n,r,o)}var Po=class extends He{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function jo(){return T((e,t)=>{let n=null;e._refCount++;let r=x(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Lo=class extends S{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ro(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new U;let n=this.getSubject();t.add(this.source.subscribe(x(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=U.EMPTY)}return t}refCount(){return jo()(this)}};var ia=ht(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ae=(()=>{class e extends S{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hn(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ia}next(n){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){gt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Mo:(this.currentObservers=null,i.push(n),new U(()=>{this.currentObservers=null,Gt(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new S;return n.source=this,n}}return e.create=(t,n)=>new Hn(t,n),e})(),Hn=class extends Ae{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Mo}};var Qt=class extends Ae{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Jt=new S(e=>e.complete());function sa(e){return e&&w(e.schedule)}function aa(e){return e[e.length-1]}function Bn(e){return w(aa(e))?e.pop():void 0}function Oe(e){return sa(aa(e))?e.pop():void 0}function la(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function ca(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Be(e){return this instanceof Be?(this.v=e,this):new Be(e)}function ua(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(v,b){i.push([f,m,v,b])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(i[0][3],m)}}function l(f){f.value instanceof Be?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function da(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ca=="function"?ca(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var qn=e=>e&&typeof e.length=="number"&&typeof e!="function";function Wn(e){return w(e?.then)}function Gn(e){return w(e[vt])}function zn(e){return Symbol.asyncIterator&&w(e?.[Symbol.asyncIterator])}function Qn(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ad(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jn=Ad();function Kn(e){return w(e?.[Jn])}function Yn(e){return ua(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Be(n.read());if(o)return yield Be(void 0);yield yield Be(r)}}finally{n.releaseLock()}})}function Zn(e){return w(e?.getReader)}function j(e){if(e instanceof S)return e;if(e!=null){if(Gn(e))return Od(e);if(qn(e))return kd(e);if(Wn(e))return Rd(e);if(zn(e))return fa(e);if(Kn(e))return Pd(e);if(Zn(e))return jd(e)}throw Qn(e)}function Od(e){return new S(t=>{let n=e[vt]();if(w(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kd(e){return new S(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Rd(e){return new S(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,$n)})}function Pd(e){return new S(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function fa(e){return new S(t=>{Ld(e,t).catch(n=>t.error(n))})}function jd(e){return fa(Yn(e))}function Ld(e,t){var n,r,o,i;return la(this,void 0,void 0,function*(){try{for(n=da(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Q(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Xn(e,t=0){return T((n,r)=>{n.subscribe(x(r,o=>Q(r,e,()=>r.next(o),t),()=>Q(r,e,()=>r.complete(),t),o=>Q(r,e,()=>r.error(o),t)))})}function er(e,t=0){return T((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function ha(e,t){return j(e).pipe(er(t),Xn(t))}function pa(e,t){return j(e).pipe(er(t),Xn(t))}function ga(e,t){return new S(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ma(e,t){return new S(n=>{let r;return Q(n,t,()=>{r=e[Jn](),Q(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>w(r?.return)&&r.return()})}function tr(e,t){if(!e)throw new Error("Iterable cannot be null");return new S(n=>{Q(n,t,()=>{let r=e[Symbol.asyncIterator]();Q(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function va(e,t){return tr(Yn(e),t)}function ya(e,t){if(e!=null){if(Gn(e))return ha(e,t);if(qn(e))return ga(e,t);if(Wn(e))return pa(e,t);if(zn(e))return tr(e,t);if(Kn(e))return ma(e,t);if(Zn(e))return va(e,t)}throw Qn(e)}function ke(e,t){return t?ya(e,t):j(e)}function Fd(...e){let t=Oe(e);return ke(e,t)}function Vd(e,t){let n=w(e)?e:()=>e,r=o=>o.error(n());return new S(t?o=>t.schedule(r,0,o):r)}function $d(e){return!!e&&(e instanceof S||w(e.lift)&&w(e.subscribe))}var qe=ht(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ce(e,t){return T((n,r)=>{let o=0;n.subscribe(x(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:Ud}=Array;function Hd(e,t){return Ud(t)?e(...t):e(t)}function nr(e){return Ce(t=>Hd(e,t))}var{isArray:Bd}=Array,{getPrototypeOf:qd,prototype:Wd,keys:Gd}=Object;function rr(e){if(e.length===1){let t=e[0];if(Bd(t))return{args:t,keys:null};if(zd(t)){let n=Gd(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function zd(e){return e&&typeof e=="object"&&qd(e)===Wd}function or(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Qd(...e){let t=Oe(e),n=Bn(e),{args:r,keys:o}=rr(e);if(r.length===0)return ke([],t);let i=new S(Jd(r,t,o?s=>or(o,s):K));return n?i.pipe(nr(n)):i}function Jd(e,t,n=K){return r=>{wa(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)wa(t,()=>{let l=ke(e[c],t),u=!1;l.subscribe(x(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wa(e,t,n){e?Q(n,e,t):t()}function _a(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{i&&t.next(m),l++;let v=!1;j(n(m,u++)).subscribe(x(t,b=>{o?.(b),i?f(b):t.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let b=c.shift();s?Q(t,s,()=>g(b)):g(b)}p()}catch(b){t.error(b)}}))};return e.subscribe(x(t,f,()=>{d=!0,p()})),()=>{a?.()}}function We(e,t,n=1/0){return w(t)?We((r,o)=>Ce((i,s)=>t(r,i,o,s))(j(e(r,o))),n):(typeof t=="number"&&(n=t),T((r,o)=>_a(r,o,e,n)))}function ba(e=1/0){return We(K,e)}function Ia(){return ba(1)}function ir(...e){return Ia()(ke(e,Oe(e)))}function Kd(e){return new S(t=>{j(e()).subscribe(t)})}function Yd(...e){let t=Bn(e),{args:n,keys:r}=rr(e),o=new S(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;j(n[u]).subscribe(x(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?or(r,a):a),i.complete())}))}});return t?o.pipe(nr(t)):o}function Kt(e,t){return T((n,r)=>{let o=0;n.subscribe(x(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Ea(e){return T((t,n)=>{let r=null,o=!1,i;r=t.subscribe(x(n,void 0,void 0,s=>{i=j(e(s,Ea(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function xa(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(x(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function Zd(e,t){return w(t)?We(e,t,1):We(e,1)}function Yt(e){return T((t,n)=>{let r=!1;t.subscribe(x(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Fo(e){return e<=0?()=>Jt:T((t,n)=>{let r=0;t.subscribe(x(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Xd(e){return Ce(()=>e)}function sr(e=ef){return T((t,n)=>{let r=!1;t.subscribe(x(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function ef(){return new qe}function tf(e){return T((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Ca(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Kt((o,i)=>e(o,i,r)):K,Fo(1),n?Yt(t):sr(()=>new qe))}function Vo(e){return e<=0?()=>Jt:T((t,n)=>{let r=[];t.subscribe(x(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function nf(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Kt((o,i)=>e(o,i,r)):K,Vo(1),n?Yt(t):sr(()=>new qe))}function rf(e,t){return T(xa(e,t,arguments.length>=2,!0))}function of(...e){let t=Oe(e);return T((n,r)=>{(t?ir(e,n,t):ir(e,n)).subscribe(r)})}function sf(e,t){return T((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(x(r,c=>{o?.unsubscribe();let l=0,u=i++;j(e(c,u)).subscribe(o=x(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function af(e){return T((t,n)=>{j(e).subscribe(x(n,()=>n.complete(),zt)),!n.closed&&t.subscribe(n)})}function cf(e,t,n){let r=w(e)||t||n?{next:e,error:t,complete:n}:e;return r?T((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(x(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):K}var sc="https://g.co/ng/security#xss",N=class extends Error{constructor(t,n){super(lf(t,n)),this.code=t}};function lf(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Lr(e){return{toString:e}.toString()}var bt=globalThis;function A(e){for(let t in e)if(e[t]===A)return t;throw Error("Could not find renamed property on target object.")}function uf(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Y(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Y).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Da(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var df=A({__forward_ref__:A});function ac(e){return e.__forward_ref__=ac,e.toString=function(){return Y(this())},e}function z(e){return cc(e)?e():e}function cc(e){return typeof e=="function"&&e.hasOwnProperty(df)&&e.__forward_ref__===ac}function oe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dx(e){return{providers:e.providers||[],imports:e.imports||[]}}function Fr(e){return Ta(e,lc)||Ta(e,uc)}function fx(e){return Fr(e)!==null}function Ta(e,t){return e.hasOwnProperty(t)?e[t]:null}function ff(e){let t=e&&(e[lc]||e[uc]);return t||null}function Ma(e){return e&&(e.hasOwnProperty(Sa)||e.hasOwnProperty(hf))?e[Sa]:null}var lc=A({\u0275prov:A}),Sa=A({\u0275inj:A}),uc=A({ngInjectableDef:A}),hf=A({ngInjectorDef:A}),F=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dc(e){return e&&!!e.\u0275providers}var pf=A({\u0275cmp:A}),gf=A({\u0275dir:A}),mf=A({\u0275pipe:A}),vf=A({\u0275mod:A}),mr=A({\u0275fac:A}),Zt=A({__NG_ELEMENT_ID__:A}),Na=A({__NG_ENV_ID__:A});function $i(e){return typeof e=="string"?e:e==null?"":String(e)}function yf(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():$i(e)}function wf(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new N(-200,e)}function Ui(e,t){throw new N(-201,!1)}var D=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(D||{}),ti;function fc(){return ti}function te(e){let t=ti;return ti=e,t}function hc(e,t,n){let r=Fr(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&D.Optional)return null;if(t!==void 0)return t;Ui(e,"Injector")}var _f={},Xt=_f,bf="__NG_DI_FLAG__",vr="ngTempTokenPath",If="ngTokenPath",Ef=/\n/gm,xf="\u0275",Aa="__source",It;function Cf(){return It}function Re(e){let t=It;return It=e,t}function Df(e,t=D.Default){if(It===void 0)throw new N(-203,!1);return It===null?hc(e,void 0,t):It.get(e,t&D.Optional?null:void 0,t)}function je(e,t=D.Default){return(fc()||Df)(z(e),t)}function W(e,t=D.Default){return je(e,Vr(t))}function Vr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ni(e){let t=[];for(let n=0;n<e.length;n++){let r=z(e[n]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let o,i=D.Default;for(let s=0;s<r.length;s++){let a=r[s],c=Tf(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(je(o,i))}else t.push(je(r))}return t}function Tf(e){return e[bf]}function Mf(e,t,n,r){let o=e[vr];throw t[Aa]&&o.unshift(t[Aa]),e.message=Sf(`
`+e.message,o,n,r),e[If]=o,e[vr]=null,e}function Sf(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==xf?e.slice(2):e;let o=Y(t);if(Array.isArray(t))o=t.map(Y).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Y(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Ef,`
  `)}`}function xt(e,t){let n=e.hasOwnProperty(mr);return n?e[mr]:null}function Hi(e,t){e.forEach(n=>Array.isArray(n)?Hi(n,t):t(n))}function pc(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function yr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Nf(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Af(e,t,n){let r=un(e,t);return r>=0?e[r|1]=n:(r=~r,Nf(e,r,t,n)),r}function $o(e,t){let n=un(e,t);if(n>=0)return e[n|1]}function un(e,t){return Of(e,t,1)}function Of(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var Ct={},ne=[],wr=new F(""),gc=new F("",-1),mc=new F(""),_r=class{get(t,n=Xt){if(n===Xt){let r=new Error(`NullInjectorError: No provider for ${Y(t)}!`);throw r.name="NullInjectorError",r}return n}},vc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(vc||{}),en=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(en||{}),Dt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Dt||{});function kf(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function ri(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];Rf(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function yc(e){return e===3||e===4||e===6}function Rf(e){return e.charCodeAt(0)===64}function tn(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?Oa(e,n,o,null,t[++r]):Oa(e,n,o,null,null))}}return e}function Oa(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){if(r===null){o!==null&&(e[i+1]=o);return}else if(r===e[i+1]){e[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),r!==null&&e.splice(i++,0,r),o!==null&&e.splice(i++,0,o)}var wc="ng-template";function Pf(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&kf(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Bi(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Bi(e){return e.type===4&&e.value!==wc}function jf(e,t,n){let r=e.type===4&&!n?wc:e.value;return t===r}function Lf(e,t,n){let r=4,o=e.attrs,i=o!==null?$f(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!ue(r)&&!ue(c))return!1;if(s&&ue(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!jf(e,c,n)||c===""&&t.length===1){if(ue(r))return!1;s=!0}}else if(r&8){if(o===null||!Pf(e,o,c,n)){if(ue(r))return!1;s=!0}}else{let l=t[++a],u=Ff(c,o,Bi(e),n);if(u===-1){if(ue(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(ue(r))return!1;s=!0}}}}return ue(r)||s}function ue(e){return(e&1)===0}function Ff(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Uf(t,e)}function Vf(e,t,n=!1){for(let r=0;r<t.length;r++)if(Lf(e,t[r],n))return!0;return!1}function $f(e){for(let t=0;t<e.length;t++){let n=e[t];if(yc(n))return t}return e.length}function Uf(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ka(e,t){return e?":not("+t.trim()+")":t}function Hf(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!ue(s)&&(t+=ka(i,o),o=""),r=s,i=i||!ue(r);n++}return o!==""&&(t+=ka(i,o)),t}function Bf(e){return e.map(Hf).join(",")}function qf(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!ue(o))break;o=i}r++}return{attrs:t,classes:n}}function hx(e){return Lr(()=>{let t=Ec(e),n=jn(Pn({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===vc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||en.Emulated,styles:e.styles||ne,_:null,schemas:e.schemas||null,tView:null,id:""});xc(n);let r=e.dependencies;return n.directiveDefs=Pa(r,!1),n.pipeDefs=Pa(r,!0),n.id=Qf(n),n})}function Wf(e){return Qe(e)||_c(e)}function Gf(e){return e!==null}function px(e){return Lr(()=>({type:e.type,bootstrap:e.bootstrap||ne,declarations:e.declarations||ne,imports:e.imports||ne,exports:e.exports||ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ra(e,t){if(e==null)return Ct;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a=Dt.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),t?(n[i]=a!==Dt.None?[r,a]:r,t[i]=s):n[i]=r}return n}function gx(e){return Lr(()=>{let t=Ec(e);return xc(t),t})}function Qe(e){return e[pf]||null}function _c(e){return e[gf]||null}function bc(e){return e[mf]||null}function zf(e){let t=Qe(e)||_c(e)||bc(e);return t!==null?t.standalone:!1}function Ic(e,t){let n=e[vf]||null;if(!n&&t===!0)throw new Error(`Type ${Y(e)} does not have '\u0275mod' property.`);return n}function Ec(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ct,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ra(e.inputs,t),outputs:Ra(e.outputs),debugInfo:null}}function xc(e){e.features?.forEach(t=>t(e))}function Pa(e,t){if(!e)return null;let n=t?bc:Wf;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Gf)}function Qf(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Jf(e){return{\u0275providers:e}}function Kf(...e){return{\u0275providers:Cc(!0,e),\u0275fromNgModule:!0}}function Cc(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Hi(t,s=>{let a=s;oi(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Dc(o,i),n}function Dc(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];qi(o,i=>{t(i,r)})}}function oi(e,t,n,r){if(e=z(e),!e)return!1;let o=null,i=Ma(e),s=!i&&Qe(e);if(!i&&!s){let c=e.ngModule;if(i=Ma(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)oi(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Hi(i.imports,u=>{oi(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Dc(l,t)}if(!a){let l=xt(o)||(()=>new o);t({provide:o,useFactory:l,deps:ne},o),t({provide:mc,useValue:o,multi:!0},o),t({provide:wr,useValue:()=>je(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;qi(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function qi(e,t){for(let n of e)dc(n)&&(n=n.\u0275providers),Array.isArray(n)?qi(n,t):t(n)}var Yf=A({provide:String,useValue:A});function Tc(e){return e!==null&&typeof e=="object"&&Yf in e}function Zf(e){return!!(e&&e.useExisting)}function Xf(e){return!!(e&&e.useFactory)}function Tt(e){return typeof e=="function"}function eh(e){return!!e.useClass}var Mc=new F(""),dr={},th={},Uo;function Wi(){return Uo===void 0&&(Uo=new _r),Uo}var Le=class{},nn=class extends Le{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,si(t,s=>this.processProvider(s)),this.records.set(gc,yt(void 0,this)),o.has("environment")&&this.records.set(Le,yt(void 0,this));let i=this.records.get(Mc);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(mc,ne,D.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=M(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Re(this),r=te(void 0),o;try{return t()}finally{Re(n),te(r)}}get(t,n=Xt,r=D.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Na))return t[Na](this);r=Vr(r);let o,i=Re(this),s=te(void 0);try{if(!(r&D.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=sh(t)&&Fr(t);l&&this.injectableDefInScope(l)?c=yt(ii(t),dr):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&D.Self?Wi():this.parent;return n=r&D.Optional&&n===Xt?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[vr]=a[vr]||[]).unshift(Y(t)),i)throw a;return Mf(a,t,"R3InjectorError",this.source)}else throw a}finally{te(s),Re(i)}}resolveInjectorInitializers(){let t=M(null),n=Re(this),r=te(void 0),o;try{let i=this.get(wr,ne,D.Self);for(let s of i)s()}finally{Re(n),te(r),M(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Y(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(t){t=z(t);let n=Tt(t)?t:z(t&&t.provide),r=rh(t);if(!Tt(t)&&t.multi===!0){let o=this.records.get(n);o||(o=yt(void 0,dr,!0),o.factory=()=>ni(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=M(null);try{return n.value===dr&&(n.value=th,n.value=n.factory()),typeof n.value=="object"&&n.value&&ih(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=z(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ii(e){let t=Fr(e),n=t!==null?t.factory:xt(e);if(n!==null)return n;if(e instanceof F)throw new N(204,!1);if(e instanceof Function)return nh(e);throw new N(204,!1)}function nh(e){if(e.length>0)throw new N(204,!1);let n=ff(e);return n!==null?()=>n.factory(e):()=>new e}function rh(e){if(Tc(e))return yt(void 0,e.useValue);{let t=Sc(e);return yt(t,dr)}}function Sc(e,t,n){let r;if(Tt(e)){let o=z(e);return xt(o)||ii(o)}else if(Tc(e))r=()=>z(e.useValue);else if(Xf(e))r=()=>e.useFactory(...ni(e.deps||[]));else if(Zf(e))r=()=>je(z(e.useExisting));else{let o=z(e&&(e.useClass||e.provide));if(oh(e))r=()=>new o(...ni(e.deps));else return xt(o)||ii(o)}return r}function yt(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function oh(e){return!!e.deps}function ih(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function sh(e){return typeof e=="function"||typeof e=="object"&&e instanceof F}function si(e,t){for(let n of e)Array.isArray(n)?si(n,t):n&&dc(n)?si(n.\u0275providers,t):t(n)}function mx(e,t){e instanceof nn&&e.assertNotDestroyed();let n,r=Re(e),o=te(void 0);try{return t()}finally{Re(r),te(o)}}function ah(){return fc()!==void 0||Cf()!=null}function ch(e){return typeof e=="function"}var De=0,E=1,y=2,G=3,de=4,he=5,br=6,rn=7,re=8,Mt=9,fe=10,H=11,on=12,ja=13,Rt=14,ye=15,$r=16,wt=17,St=18,Ur=19,Nc=20,Pe=21,Ho=22,Je=23,we=25,Ac=1;var Ke=7,Ir=8,Er=9,Z=10,Gi=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Gi||{});function Ge(e){return Array.isArray(e)&&typeof e[Ac]=="object"}function Te(e){return Array.isArray(e)&&e[Ac]===!0}function Oc(e){return(e.flags&4)!==0}function Hr(e){return e.componentOffset>-1}function zi(e){return(e.flags&1)===1}function Fe(e){return!!e.template}function lh(e){return(e[y]&512)!==0}var ai=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kc(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function uh(){return Rc}function Rc(e){return e.type.prototype.ngOnChanges&&(e.setInput=fh),dh}uh.ngInherit=!0;function dh(){let e=jc(this),t=e?.current;if(t){let n=e.previous;if(n===Ct)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function fh(e,t,n,r,o){let i=this.declaredInputs[r],s=jc(e)||hh(e,{previous:Ct,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new ai(l&&l.currentValue,n,c===Ct),kc(e,t,o,n)}var Pc="__ngSimpleChanges__";function jc(e){return e[Pc]||null}function hh(e,t){return e[Pc]=t}var La=null;var ge=function(e,t,n){La?.(e,t,n)},ph="svg",gh="math",mh=!1;function vh(){return mh}function _e(e){for(;Array.isArray(e);)e=e[De];return e}function yh(e,t){return _e(t[e])}function ie(e,t){return _e(t[e.index])}function Qi(e,t){return e.data[t]}function Ve(e,t){let n=t[e];return Ge(n)?n:n[De]}function Ji(e){return(e[y]&128)===128}function wh(e){return Te(e[G])}function xr(e,t){return t==null?null:e[t]}function Lc(e){e[wt]=0}function _h(e){e[y]&1024||(e[y]|=1024,Ji(e)&&sn(e))}function bh(e,t){for(;e>0;)t=t[Rt],e--;return t}function Ki(e){return!!(e[y]&9216||e[Je]?.dirty)}function ci(e){e[fe].changeDetectionScheduler?.notify(1),Ki(e)?sn(e):e[y]&64&&(vh()?(e[y]|=1024,sn(e)):e[fe].changeDetectionScheduler?.notify())}function sn(e){e[fe].changeDetectionScheduler?.notify();let t=an(e);for(;t!==null&&!(t[y]&8192||(t[y]|=8192,!Ji(t)));)t=an(t)}function Fc(e,t){if((e[y]&256)===256)throw new N(911,!1);e[Pe]===null&&(e[Pe]=[]),e[Pe].push(t)}function Ih(e,t){if(e[Pe]===null)return;let n=e[Pe].indexOf(t);n!==-1&&e[Pe].splice(n,1)}function an(e){let t=e[G];return Te(t)?t[G]:t}var C={lFrame:Wc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Eh(){return C.lFrame.elementDepthCount}function xh(){C.lFrame.elementDepthCount++}function Ch(){C.lFrame.elementDepthCount--}function Vc(){return C.bindingsEnabled}function Dh(){return C.skipHydrationRootTNode!==null}function Th(e){return C.skipHydrationRootTNode===e}function Mh(){C.skipHydrationRootTNode=null}function R(){return C.lFrame.lView}function se(){return C.lFrame.tView}function vx(e){return C.lFrame.contextLView=e,e[re]}function yx(e){return C.lFrame.contextLView=null,e}function X(){let e=$c();for(;e!==null&&e.type===64;)e=e.parent;return e}function $c(){return C.lFrame.currentTNode}function Sh(){let e=C.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function dn(e,t){let n=C.lFrame;n.currentTNode=e,n.isParent=t}function Uc(){return C.lFrame.isParent}function Nh(){C.lFrame.isParent=!1}function Ah(e){return C.lFrame.bindingIndex=e}function Yi(){return C.lFrame.bindingIndex++}function Oh(e){let t=C.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function kh(){return C.lFrame.inI18n}function Rh(e,t){let n=C.lFrame;n.bindingIndex=n.bindingRootIndex=e,li(t)}function Ph(){return C.lFrame.currentDirectiveIndex}function li(e){C.lFrame.currentDirectiveIndex=e}function jh(e){let t=C.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Hc(e){C.lFrame.currentQueryIndex=e}function Lh(e){let t=e[E];return t.type===2?t.declTNode:t.type===1?e[he]:null}function Bc(e,t,n){if(n&D.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&D.Host);)if(o=Lh(i),o===null||(i=i[Rt],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=C.lFrame=qc();return r.currentTNode=t,r.lView=e,!0}function Zi(e){let t=qc(),n=e[E];C.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function qc(){let e=C.lFrame,t=e===null?null:e.child;return t===null?Wc(e):t}function Wc(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function Gc(){let e=C.lFrame;return C.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var zc=Gc;function Xi(){let e=Gc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Fh(e){return(C.lFrame.contextLView=bh(e,C.lFrame.contextLView))[re]}function fn(){return C.lFrame.selectedIndex}function Ye(e){C.lFrame.selectedIndex=e}function Qc(){let e=C.lFrame;return Qi(e.tView,e.selectedIndex)}function Vh(){return C.lFrame.currentNamespace}var Jc=!0;function es(){return Jc}function ts(e){Jc=e}function $h(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Rc(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function ns(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function fr(e,t,n){Kc(e,t,3,n)}function hr(e,t,n,r){(e[y]&3)===n&&Kc(e,t,n,r)}function Bo(e,t){let n=e[y];(n&3)===t&&(n&=16383,n+=1,e[y]=n)}function Kc(e,t,n,r){let o=r!==void 0?e[wt]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[wt]+=65536),(a<i||i==-1)&&(Uh(e,n,t,c),e[wt]=(e[wt]&4294901760)+c+2),c++}function Fa(e,t){ge(4,e,t);let n=M(null);try{t.call(e)}finally{M(n),ge(5,e,t)}}function Uh(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[y]>>14<e[wt]>>16&&(e[y]&3)===t&&(e[y]+=16384,Fa(a,i)):Fa(a,i)}var Et=-1,Ze=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Hh(e){return e instanceof Ze}function Bh(e){return(e.flags&8)!==0}function qh(e){return(e.flags&16)!==0}function Yc(e){return e!==Et}function Cr(e){return e&32767}function Wh(e){return e>>16}function Dr(e,t){let n=Wh(e),r=t;for(;n>0;)r=r[Rt],n--;return r}var ui=!0;function Va(e){let t=ui;return ui=e,t}var Gh=256,Zc=Gh-1,Xc=5,zh=0,me={};function Qh(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zt)&&(r=n[Zt]),r==null&&(r=n[Zt]=zh++);let o=r&Zc,i=1<<o;t.data[e+(o>>Xc)]|=i}function Tr(e,t){let n=el(e,t);if(n!==-1)return n;let r=t[E];r.firstCreatePass&&(e.injectorIndex=t.length,qo(r.data,e),qo(t,null),qo(r.blueprint,null));let o=rs(e,t),i=e.injectorIndex;if(Yc(o)){let s=Cr(o),a=Dr(o,t),c=a[E].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function qo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function el(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function rs(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=il(o),r===null)return Et;if(n++,o=o[Rt],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Et}function di(e,t,n){Qh(e,t,n)}function Jh(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(yc(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function tl(e,t,n){if(n&D.Optional||e!==void 0)return e;Ui(t,"NodeInjector")}function nl(e,t,n,r){if(n&D.Optional&&r===void 0&&(r=null),!(n&(D.Self|D.Host))){let o=e[Mt],i=te(void 0);try{return o?o.get(t,r,n&D.Optional):hc(t,r,n&D.Optional)}finally{te(i)}}return tl(r,t,n)}function rl(e,t,n,r=D.Default,o){if(e!==null){if(t[y]&2048&&!(r&D.Self)){let s=ep(e,t,n,r,me);if(s!==me)return s}let i=ol(e,t,n,r,me);if(i!==me)return i}return nl(t,n,r,o)}function ol(e,t,n,r,o){let i=Zh(n);if(typeof i=="function"){if(!Bc(t,e,r))return r&D.Host?tl(o,n,r):nl(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&D.Optional))Ui(n);else return s}finally{zc()}}else if(typeof i=="number"){let s=null,a=el(e,t),c=Et,l=r&D.Host?t[ye][he]:null;for((a===-1||r&D.SkipSelf)&&(c=a===-1?rs(e,t):t[a+8],c===Et||!Ua(r,!1)?a=-1:(s=t[E],a=Cr(c),t=Dr(c,t)));a!==-1;){let u=t[E];if($a(i,a,u.data)){let d=Kh(a,t,n,s,r,l);if(d!==me)return d}c=t[a+8],c!==Et&&Ua(r,t[E].data[a+8]===l)&&$a(i,a,t)?(s=u,a=Cr(c),t=Dr(c,t)):a=-1}}return o}function Kh(e,t,n,r,o,i){let s=t[E],a=s.data[e+8],c=r==null?Hr(a)&&ui:r!=s&&(a.type&3)!==0,l=o&D.Host&&i===a,u=Yh(a,s,n,c,l);return u!==null?Nt(t,s,u,a):me}function Yh(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&Fe(f)&&f.type===n)return c}return null}function Nt(e,t,n,r){let o=e[n],i=t.data;if(Hh(o)){let s=o;s.resolving&&wf(yf(i[n]));let a=Va(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?te(s.injectImpl):null,u=Bc(e,r,D.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&$h(n,i[n],t)}finally{l!==null&&te(l),Va(a),s.resolving=!1,zc()}}return o}function Zh(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Zt)?e[Zt]:void 0;return typeof t=="number"?t>=0?t&Zc:Xh:t}function $a(e,t,n){let r=1<<e;return!!(n[t+(e>>Xc)]&r)}function Ua(e,t){return!(e&D.Self)&&!(e&D.Host&&t)}var ze=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return rl(this._tNode,this._lView,t,Vr(r),n)}};function Xh(){return new ze(X(),R())}function wx(e){return Lr(()=>{let t=e.prototype.constructor,n=t[mr]||fi(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[mr]||fi(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function fi(e){return cc(e)?()=>{let t=fi(z(e));return t&&t()}:xt(e)}function ep(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[y]&2048&&!(s[y]&512);){let a=ol(i,s,n,r|D.Self,me);if(a!==me)return a;let c=i.parent;if(!c){let l=s[Nc];if(l){let u=l.get(n,me,r);if(u!==me)return u}c=il(s),s=s[Rt]}i=c}return o}function il(e){let t=e[E],n=t.type;return n===2?t.declTNode:n===1?e[he]:null}function _x(e){return Jh(X(),e)}function Ha(e,t=null,n=null,r){let o=sl(e,t,n,r);return o.resolveInjectorInitializers(),o}function sl(e,t=null,n=null,r,o=new Set){let i=[n||ne,Kf(e)];return r=r||(typeof e=="object"?void 0:Y(e)),new nn(i,t||Wi(),r||null,o)}var al=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Xt}static{this.NULL=new _r}static create(n,r){if(Array.isArray(n))return Ha({name:""},r,n,"");{let o=n.name??"";return Ha({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=oe({token:e,providedIn:"any",factory:()=>je(gc)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var tp="ngOriginalError";function Wo(e){return e[tp]}var At=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Wo(t);for(;n&&Wo(n);)n=Wo(n);return n||null}},cl=new F("",{providedIn:"root",factory:()=>W(At).handleError.bind(void 0)}),ll=(()=>{class e{static{this.__NG_ELEMENT_ID__=np}static{this.__NG_ENV_ID__=n=>n}}return e})(),hi=class extends ll{constructor(t){super(),this._lView=t}onDestroy(t){return Fc(this._lView,t),()=>Ih(this._lView,t)}};function np(){return new hi(R())}function rp(){return os(X(),R())}function os(e,t){return new op(ie(e,t))}var op=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=rp}}return e})();var pi=class extends Ae{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,ah()&&(this.destroyRef=W(ll,{optional:!0})??void 0)}emit(t){let n=M(null);try{super.next(t)}finally{M(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=Go(i),o&&(o=Go(o)),s&&(s=Go(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof U&&t.add(a),a}};function Go(e){return t=>{setTimeout(e,void 0,t)}}var ar=pi;function ul(e){return(e.flags&128)===128}var dl=new Map,ip=0;function sp(){return ip++}function ap(e){dl.set(e[Ur],e)}function cp(e){dl.delete(e[Ur])}var Ba="__ngContext__";function Xe(e,t){Ge(t)?(e[Ba]=t[Ur],ap(t)):e[Ba]=t}function fl(e){return pl(e[on])}function hl(e){return pl(e[de])}function pl(e){for(;e!==null&&!Te(e);)e=e[de];return e}var gi;function bx(e){gi=e}function lp(){if(gi!==void 0)return gi;if(typeof document<"u")return document;throw new N(210,!1)}var Ix=new F("",{providedIn:"root",factory:()=>up}),up="ng",dp=new F(""),Ex=new F("",{providedIn:"platform",factory:()=>"unknown"});var xx=new F("",{providedIn:"root",factory:()=>lp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fp="h",hp="b";var pp=()=>null;function is(e,t,n=!1){return pp(e,t,n)}var gl=!1,gp=new F("",{providedIn:"root",factory:()=>gl});var cr;function mp(){if(cr===void 0&&(cr=null,bt.trustedTypes))try{cr=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cr}function qa(e){return mp()?.createScriptURL(e)||e}var Mr=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sc})`}};function ss(e){return e instanceof Mr?e.changingThisBreaksApplicationSecurity:e}function ml(e,t){let n=vp(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${sc})`)}return n===t}function vp(e){return e instanceof Mr&&e.getTypeName()||null}var yp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wp(e){return e=String(e),e.match(yp)?e:"unsafe:"+e}var as=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(as||{});function _p(e){let t=vl();return t?t.sanitize(as.URL,e)||"":ml(e,"URL")?ss(e):wp($i(e))}function bp(e){let t=vl();if(t)return qa(t.sanitize(as.RESOURCE_URL,e)||"");if(ml(e,"ResourceURL"))return qa(ss(e));throw new N(904,!1)}function Ip(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?bp:_p}function Cx(e,t,n){return Ip(t,n)(e)}function vl(){let e=R();return e&&e[fe].sanitizer}function yl(e){return e instanceof Function?e():e}var mi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(mi||{}),Ep;function cs(e,t){return Ep(e,t)}function _t(e,t,n,r,o){if(r!=null){let i,s=!1;Te(r)?i=r:Ge(r)&&(s=!0,r=r[De]);let a=_e(r);e===0&&n!==null?o==null?Il(t,n,a):Nr(t,n,a,o||null,!0):e===1&&n!==null?Nr(t,n,a,o||null,!0):e===2?Vp(t,a,s):e===3&&t.destroyNode(a),i!=null&&Up(t,e,i,n,o)}}function xp(e,t){return e.createText(t)}function wl(e,t,n){return e.createElement(t,n)}function Cp(e,t){_l(e,t),t[De]=null,t[he]=null}function Dp(e,t,n,r,o,i){r[De]=o,r[he]=t,Br(e,r,n,1,o,i)}function _l(e,t){t[fe].changeDetectionScheduler?.notify(1),Br(e,t,t[H],2,null,null)}function Tp(e){let t=e[on];if(!t)return zo(e[E],e);for(;t;){let n=null;if(Ge(t))n=t[on];else{let r=t[Z];r&&(n=r)}if(!n){for(;t&&!t[de]&&t!==e;)Ge(t)&&zo(t[E],t),t=t[G];t===null&&(t=e),Ge(t)&&zo(t[E],t),n=t&&t[de]}t=n}}function Mp(e,t,n,r){let o=Z+r,i=n.length;r>0&&(n[o-1][de]=t),r<i-Z?(t[de]=n[o],pc(n,Z+r,t)):(n.push(t),t[de]=null),t[G]=n;let s=t[$r];s!==null&&n!==s&&Sp(s,t);let a=t[St];a!==null&&a.insertView(e),ci(t),t[y]|=128}function Sp(e,t){let n=e[Er],o=t[G][G][ye];t[ye]!==o&&(e[y]|=Gi.HasTransplantedViews),n===null?e[Er]=[t]:n.push(t)}function bl(e,t){let n=e[Er],r=n.indexOf(t);n.splice(r,1)}function Sr(e,t){if(e.length<=Z)return;let n=Z+t,r=e[n];if(r){let o=r[$r];o!==null&&o!==e&&bl(o,r),t>0&&(e[n-1][de]=r[de]);let i=yr(e,Z+t);Cp(r[E],r);let s=i[St];s!==null&&s.detachView(i[E]),r[G]=null,r[de]=null,r[y]&=-129}return r}function ls(e,t){if(!(t[y]&256)){let n=t[H];n.destroyNode&&Br(e,t,n,3,null,null),Tp(t)}}function zo(e,t){if(t[y]&256)return;let n=M(null);try{t[y]&=-129,t[y]|=256,t[Je]&&Ys(t[Je]),Ap(e,t),Np(e,t),t[E].type===1&&t[H].destroy();let r=t[$r];if(r!==null&&Te(t[G])){r!==t[G]&&bl(r,t);let o=t[St];o!==null&&o.detachView(e)}cp(t)}finally{M(n)}}function Np(e,t){let n=e.cleanup,r=t[rn];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[n[i+1]];n[i].call(s)}r!==null&&(t[rn]=null);let o=t[Pe];if(o!==null){t[Pe]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Ap(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof Ze)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];ge(4,a,c);try{c.call(a)}finally{ge(5,a,c)}}else{ge(4,o,i);try{i.call(o)}finally{ge(5,o,i)}}}}}function Op(e,t,n){return kp(e,t.parent,n)}function kp(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[De];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=e.data[r.directiveStart+o];if(i===en.None||i===en.Emulated)return null}return ie(r,n)}}function Nr(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Il(e,t,n){e.appendChild(t,n)}function Wa(e,t,n,r,o){r!==null?Nr(e,t,n,r,o):Il(e,t,n)}function Rp(e,t,n,r){e.removeChild(t,n,r)}function us(e,t){return e.parentNode(t)}function Pp(e,t){return e.nextSibling(t)}function jp(e,t,n){return Fp(e,t,n)}function Lp(e,t,n){return e.type&40?ie(e,n):null}var Fp=Lp,Ga;function ds(e,t,n,r){let o=Op(e,r,t),i=t[H],s=r.parent||t[he],a=jp(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Wa(i,o,n[c],a,!1);else Wa(i,o,n,a,!1);Ga!==void 0&&Ga(i,r,t,n,o)}function pr(e,t){if(t!==null){let n=t.type;if(n&3)return ie(t,e);if(n&4)return vi(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return pr(e,r);{let o=e[t.index];return Te(o)?vi(-1,o):_e(o)}}else{if(n&32)return cs(t,e)()||_e(e[t.index]);{let r=El(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=an(e[ye]);return pr(o,r)}else return pr(e,t.next)}}}return null}function El(e,t){if(t!==null){let r=e[ye][he],o=t.projection;return r.projection[o]}return null}function vi(e,t){let n=Z+e+1;if(n<t.length){let r=t[n],o=r[E].firstChild;if(o!==null)return pr(r,o)}return t[Ke]}function Vp(e,t,n){let r=us(e,t);r&&Rp(e,r,t,n)}function fs(e,t,n,r,o,i,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Xe(_e(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)fs(e,t,n.child,r,o,i,!1),_t(t,e,o,a,i);else if(c&32){let l=cs(n,r),u;for(;u=l();)_t(t,e,o,u,i);_t(t,e,o,a,i)}else c&16?$p(e,t,r,n,o,i):_t(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Br(e,t,n,r,o,i){fs(n,r,e.firstChild,t,o,i,!1)}function $p(e,t,n,r,o,i){let s=n[ye],c=s[he].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];_t(t,e,o,u,i)}else{let l=c,u=s[G];ul(r)&&(l.flags|=128),fs(e,t,l,u,o,i,!0)}}function Up(e,t,n,r,o){let i=n[Ke],s=_e(n);i!==s&&_t(t,e,r,i,o);for(let a=Z;a<n.length;a++){let c=n[a];Br(c[E],c,e,t,r,i)}}function Hp(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:mi.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=mi.Important),e.setStyle(n,r,o,i))}}function Bp(e,t,n){e.setAttribute(t,"style",n)}function xl(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Cl(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&ri(e,t,r),o!==null&&xl(e,t,o),i!==null&&Bp(e,t,i)}var qr={};function Dx(e=1){Dl(se(),R(),fn()+e,!1)}function Dl(e,t,n,r){if(!r)if((t[y]&3)===3){let i=e.preOrderCheckHooks;i!==null&&fr(t,i,n)}else{let i=e.preOrderHooks;i!==null&&hr(t,i,0,n)}Ye(n)}function hs(e,t=D.Default){let n=R();if(n===null)return je(e,t);let r=X();return rl(r,n,z(e),t)}function Tl(e,t,n,r,o,i){let s=M(null);try{let a=null;o&Dt.SignalBased&&(a=t[r][xo]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Dt.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),e.setInput!==null?e.setInput(t,a,i,n,r):kc(t,a,r,i)}finally{M(s)}}function qp(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Ye(~o);else{let i=o,s=n[++r],a=n[++r];Rh(s,i);let c=t[i];a(2,c)}}}finally{Ye(-1)}}function Wr(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[De]=o,d[y]=r|4|128|8|64,(l!==null||e&&e[y]&2048)&&(d[y]|=2048),Lc(d),d[G]=d[Rt]=e,d[re]=n,d[fe]=s||e&&e[fe],d[H]=a||e&&e[H],d[Mt]=c||e&&e[Mt]||null,d[he]=i,d[Ur]=sp(),d[br]=u,d[Nc]=l,d[ye]=t.type==2?e[ye]:d,d}function Gr(e,t,n,r,o){let i=e.data[t];if(i===null)i=Wp(e,t,n,r,o),kh()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Sh();i.injectorIndex=s===null?-1:s.injectorIndex}return dn(i,!0),i}function Wp(e,t,n,r,o){let i=$c(),s=Uc(),a=s?i:i&&i.parent,c=e.data[t]=Kp(e,a,n,t,r,o);return e.firstChild===null&&(e.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function Ml(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Sl(e,t,n,r,o){let i=fn(),s=r&2;try{Ye(-1),s&&t.length>we&&Dl(e,t,we,!1),ge(s?2:0,o),n(r,o)}finally{Ye(i),ge(s?3:1,o)}}function Nl(e,t,n){if(Oc(t)){let r=M(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{M(r)}}}function Al(e,t,n){Vc()&&(rg(e,t,n,ie(n,t)),(n.flags&64)===64&&jl(e,t,n))}function Ol(e,t,n=ie){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function kl(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ps(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ps(e,t,n,r,o,i,s,a,c,l,u){let d=we+r,p=d+o,f=Gp(d,p),g=typeof l=="function"?l():l;return f[E]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Gp(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:qr);return n}function zp(e,t,n,r){let i=r.get(gp,gl)||n===en.ShadowDom,s=e.selectRootElement(t,i);return Qp(s),s}function Qp(e){Jp(e)}var Jp=()=>null;function Kp(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Dh()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function za(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;let s=t[i];if(s===void 0)continue;r??={};let a,c=Dt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=i;if(o!==null){if(!o.hasOwnProperty(i))continue;l=o[i]}e===0?Qa(r,n,l,a,c):Qa(r,n,l,a)}return r}function Qa(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],o!==void 0&&i.push(o)}function Yp(e,t,n){let r=t.directiveStart,o=t.directiveEnd,i=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<o;u++){let d=i[u],p=n?n.get(d):null,f=p?p.inputs:null,g=p?p.outputs:null;c=za(0,d.inputs,u,c,f),l=za(1,d.outputs,u,l,g);let m=c!==null&&s!==null&&!Bi(t)?pg(c,u,s):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function Zp(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Xp(e,t,n,r,o,i,s,a){let c=ie(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?(gs(e,n,u,r,o),Hr(t)&&eg(n,t.index)):t.type&3?(r=Zp(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)):t.type&12}function eg(e,t){let n=Ve(t,e);n[y]&16||(n[y]|=64)}function Rl(e,t,n,r){if(Vc()){let o=r===null?null:{"":-1},i=ig(e,n),s,a;i===null?s=a=null:[s,a]=i,s!==null&&Pl(e,t,n,s,o,a),o&&sg(n,r,o)}n.mergedAttrs=tn(n.mergedAttrs,n.attrs)}function Pl(e,t,n,r,o,i){for(let l=0;l<r.length;l++)di(Tr(n,t),e,r[l].type);cg(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Ml(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=tn(n.mergedAttrs,u.hostAttrs),lg(e,n,t,c,u),ag(c,u,o),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Yp(e,n,i)}function tg(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ng(s)!=a&&s.push(a),s.push(n,r,i)}}function ng(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function rg(e,t,n,r){let o=n.directiveStart,i=n.directiveEnd;Hr(n)&&ug(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Tr(n,t),Xe(r,t);let s=n.initialInputs;for(let a=o;a<i;a++){let c=e.data[a],l=Nt(t,e,a,n);if(Xe(l,t),s!==null&&hg(t,a-o,l,c,n,s),Fe(c)){let u=Ve(n.index,t);u[re]=Nt(t,e,a,n)}}}function jl(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=Ph();try{Ye(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];li(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&og(c,l)}}finally{Ye(-1),li(s)}}function og(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function ig(e,t){let n=e.directiveRegistry,r=null,o=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];if(Vf(t,s.selectors,!1))if(r||(r=[]),Fe(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;yi(e,t,c)}else r.unshift(s),yi(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function yi(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function sg(e,t,n){if(t){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new N(-301,!1);r.push(t[o],i)}}}function ag(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Fe(t)&&(n[""]=e)}}function cg(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function lg(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=xt(o.type,!0)),s=new Ze(i,Fe(o),hs);e.blueprint[r]=s,n[r]=s,tg(e,t,r,Ml(e,n,o.hostVars,qr),o)}function ug(e,t,n){let r=ie(t,e),o=kl(n),i=e[fe].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=zr(e,Wr(e,o,null,s,r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=a}function dg(e,t,n,r,o,i){let s=ie(e,t);fg(t[H],s,i,e.value,n,r,o)}function fg(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?$i(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function hg(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Tl(r,n,c,l,u,d)}}function pg(e,t,n){let r=null,o=0;for(;o<n.length;){let i=n[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(e.hasOwnProperty(i)){r===null&&(r=[]);let s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}return r}function Ll(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Fl(e,t){let n=e.contentQueries;if(n!==null){let r=M(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Hc(i),a.contentQueries(2,t[s],s)}}}finally{M(r)}}}function zr(e,t){return e[on]?e[ja][de]=t:e[on]=t,e[ja]=t,t}function wi(e,t,n){Hc(0);let r=M(null);try{t(e,n)}finally{M(r)}}function gg(e){return e[rn]||(e[rn]=[])}function mg(e){return e.cleanup||(e.cleanup=[])}function Vl(e,t){let n=e[Mt],r=n?n.get(At,null):null;r&&r.handleError(t)}function gs(e,t,n,r,o){for(let i=0;i<n.length;){let s=n[i++],a=n[i++],c=n[i++],l=t[s],u=e.data[s];Tl(u,l,r,a,c,o)}}function vg(e,t){let n=Ve(t,e),r=n[E];yg(r,n);let o=n[De];o!==null&&n[br]===null&&(n[br]=is(o,n[Mt])),ms(r,n,n[re])}function yg(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ms(e,t,n){Zi(t);try{let r=e.viewQuery;r!==null&&wi(1,r,n);let o=e.template;o!==null&&Sl(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[St]?.finishViewCreation(e),e.staticContentQueries&&Fl(e,t),e.staticViewQueries&&wi(2,e.viewQuery,n);let i=e.components;i!==null&&wg(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[y]&=-5,Xi()}}function wg(e,t){for(let n=0;n<t.length;n++)vg(e,t[n])}function _g(e,t,n,r){let o=M(null);try{let i=t.tView,a=e[y]&4096?4096:16,c=Wr(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[$r]=l;let u=e[St];return u!==null&&(c[St]=u.createEmbeddedView(i)),ms(i,c,n),c}finally{M(o)}}function bg(e,t){let n=Z+t;if(n<e.length)return e[n]}function _i(e,t){return!t||t.firstChild===null||ul(e)}function $l(e,t,n,r=!0){let o=t[E];if(Mp(o,t,e,n),r){let s=vi(n,e),a=t[H],c=us(a,e[Ke]);c!==null&&Dp(o,e[he],a,t,c,s)}let i=t[br];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Ig(e,t){let n=Sr(e,t);return n!==void 0&&ls(n[E],n),n}function Ar(e,t,n,r,o=!1){for(;n!==null;){let i=t[n.index];i!==null&&r.push(_e(i)),Te(i)&&Eg(i,r);let s=n.type;if(s&8)Ar(e,t,n.child,r);else if(s&32){let a=cs(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=El(t,n);if(Array.isArray(a))r.push(...a);else{let c=an(t[ye]);Ar(c[E],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Eg(e,t){for(let n=Z;n<e.length;n++){let r=e[n],o=r[E].firstChild;o!==null&&Ar(r[E],r,o,t)}e[Ke]!==e[De]&&t.push(e[Ke])}var Ul=[];function xg(e){return e[Je]??Cg(e)}function Cg(e){let t=Ul.pop()??Object.create(Tg);return t.lView=e,t}function Dg(e){e.lView[Je]!==e&&(e.lView=null,Ul.push(e))}var Tg=jn(Pn({},Qs),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{sn(e.lView)},consumerOnSignalRead(){this.lView[Je]=this}}),Hl=100;function Bl(e,t=!0,n=0){let r=e[fe],o=r.rendererFactory,i=!1;i||o.begin?.();try{Mg(e,n)}catch(s){throw t&&Vl(e,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function Mg(e,t){bi(e,t);let n=0;for(;Ki(e);){if(n===Hl)throw new N(103,!1);n++,bi(e,1)}}function Sg(e,t,n,r){let o=t[y];if((o&256)===256)return;let i=!1;!i&&t[fe].inlineEffectRunner?.flush(),Zi(t);let s=null,a=null;!i&&Ng(e)&&(a=xg(t),s=Js(a));try{Lc(t),Ah(e.bindingStartIndex),n!==null&&Sl(e,t,n,2,r);let c=(o&3)===3;if(!i)if(c){let d=e.preOrderCheckHooks;d!==null&&fr(t,d,null)}else{let d=e.preOrderHooks;d!==null&&hr(t,d,0,null),Bo(t,0)}if(Ag(t),ql(t,0),e.contentQueries!==null&&Fl(e,t),!i)if(c){let d=e.contentCheckHooks;d!==null&&fr(t,d)}else{let d=e.contentHooks;d!==null&&hr(t,d,1),Bo(t,1)}qp(e,t);let l=e.components;l!==null&&Gl(t,l,0);let u=e.viewQuery;if(u!==null&&wi(2,u,r),!i)if(c){let d=e.viewCheckHooks;d!==null&&fr(t,d)}else{let d=e.viewHooks;d!==null&&hr(t,d,2),Bo(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ho]){for(let d of t[Ho])d();t[Ho]=null}i||(t[y]&=-73)}catch(c){throw sn(t),c}finally{a!==null&&(Ks(a,s),Dg(a)),Xi()}}function Ng(e){return e.type!==2}function ql(e,t){for(let n=fl(e);n!==null;n=hl(n))for(let r=Z;r<n.length;r++){let o=n[r];Wl(o,t)}}function Ag(e){for(let t=fl(e);t!==null;t=hl(t)){if(!(t[y]&Gi.HasTransplantedViews))continue;let n=t[Er];for(let r=0;r<n.length;r++){let o=n[r],i=o[G];_h(o)}}}function Og(e,t,n){let r=Ve(t,e);Wl(r,n)}function Wl(e,t){Ji(e)&&bi(e,t)}function bi(e,t){let r=e[E],o=e[y],i=e[Je],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&Co(i)),i&&(i.dirty=!1),e[y]&=-9217,s)Sg(r,e,r.template,e[re]);else if(o&8192){ql(e,1);let a=r.components;a!==null&&Gl(e,a,1)}}function Gl(e,t,n){for(let r=0;r<t.length;r++)Og(e,t[r],n)}function vs(e){for(e[fe].changeDetectionScheduler?.notify();e;){e[y]|=64;let t=an(e);if(lh(e)&&!t)return e;e=t}return null}var Ot=class{get rootNodes(){let t=this._lView,n=t[E];return Ar(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[re]}set context(t){this._lView[re]=t}get destroyed(){return(this._lView[y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[G];if(Te(t)){let n=t[Ir],r=n?n.indexOf(this):-1;r>-1&&(Sr(t,r),yr(n,r))}this._attachedToViewContainer=!1}ls(this._lView[E],this._lView)}onDestroy(t){Fc(this._lView,t)}markForCheck(){vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[y]&=-129}reattach(){ci(this._lView),this._lView[y]|=128}detectChanges(){this._lView[y]|=1024,Bl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_l(this._lView[E],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t,ci(this._lView)}};var Tx=new RegExp(`^(\\d+)*(${hp}|${fp})*(.*)`);var kg=()=>null;function Ii(e,t){return kg(e,t)}var Ei=class{},xi=class{},Or=class{};function Rg(e){let t=Error(`No component factory found for ${Y(e)}.`);return t[Pg]=e,t}var Pg="ngComponent";var Ci=class{resolveComponentFactory(t){throw Rg(t)}},Qr=(()=>{class e{static{this.NULL=new Ci}}return e})(),Di=class{},Mx=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jg()}}return e})();function jg(){let e=R(),t=X(),n=Ve(t.index,e);return(Ge(n)?n:e)[H]}var Lg=(()=>{class e{static{this.\u0275prov=oe({token:e,providedIn:"root",factory:()=>null})}}return e})(),Qo={};var Ja=new Set;function zl(e){Ja.has(e)||(Ja.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Ka(...e){}function Fg(){let e=typeof bt.requestAnimationFrame=="function",t=bt[e?"requestAnimationFrame":"setTimeout"],n=bt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var ve=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ar(!1),this.onMicrotaskEmpty=new ar(!1),this.onStable=new ar(!1),this.onError=new ar(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=Fg().nativeRequestAnimationFrame,Ug(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new N(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,Vg,Ka,Ka);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Vg={};function ys(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function $g(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(bt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ti(e),e.isCheckStableRunning=!0,ys(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ti(e))}function Ug(e){let t=()=>{$g(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{if(Hg(a))return n.invokeTask(o,i,s,a);try{return Ya(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Za(e)}},onInvoke:(n,r,o,i,s,a,c)=>{try{return Ya(e),n.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),Za(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,Ti(e),ys(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function Ti(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ya(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Za(e){e._nesting--,ys(e)}function Hg(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Ql=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=oe({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Mi(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Da(o,a);else if(i==2){let c=a,l=t[++s];r=Da(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}var kr=class extends Qr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Qe(t);return new cn(n,this.ngModule)}};function Xa(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function Bg(e){let t=e.toLowerCase();return t==="svg"?ph:t==="math"?gh:null}var Si=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Vr(r);let o=this.injector.get(t,Qo,r);return o!==Qo||n===Qo?o:this.parentInjector.get(t,n,r)}},cn=class extends Or{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=Xa(t.inputs);if(n!==null)for(let o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Xa(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=Bf(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=M(null);try{o=o||this.ngModule;let s=o instanceof Le?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Si(t,s):t,c=a.get(Di,null);if(c===null)throw new N(407,!1);let l=a.get(Lg,null),u=a.get(Ql,null),d=a.get(Ei,null),p={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",m=r?zp(f,r,this.componentDef.encapsulation,a):wl(f,g,Bg(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;m!==null&&(b=is(m,a,!0));let $=ps(0,null,null,1,0,null,null,null,null,null,null),k=Wr(null,$,null,v,null,null,p,f,a,null,b);Zi(k);let P,q;try{let V=this.componentDef,ft,Io=null;V.findHostDirectiveDefs?(ft=[],Io=new Map,V.findHostDirectiveDefs(V,ft,Io),ft.push(V)):ft=[V];let md=qg(k,m),vd=Wg(md,m,V,ft,k,p,f);q=Qi($,we),m&&Qg(f,V,m,r),n!==void 0&&Jg(q,this.ngContentSelectors,n),P=zg(vd,V,ft,Io,k,[Kg]),ms($,k,null)}finally{Xi()}return new Ni(this.componentType,P,os(q,k),k,q)}finally{M(i)}}},Ni=class extends xi{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ot(o,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,o;if(r!==null&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView;gs(i[E],i,o,t,n),this.previousInputValues.set(t,n);let s=Ve(this._tNode.index,i);vs(s)}}get injector(){return new ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function qg(e,t){let n=e[E],r=we;return e[r]=t,Gr(n,r,2,"#host",null)}function Wg(e,t,n,r,o,i,s){let a=o[E];Gg(r,e,t,s);let c=null;t!==null&&(c=is(t,o[Mt]));let l=i.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Wr(o,kl(n),null,u,o[e.index],e,i,l,null,null,c);return a.firstCreatePass&&yi(a,e,r.length-1),zr(o,d),o[e.index]=d}function Gg(e,t,n,r){for(let o of e)t.mergedAttrs=tn(t.mergedAttrs,o.hostAttrs);t.mergedAttrs!==null&&(Mi(t,t.mergedAttrs,!0),n!==null&&Cl(r,n,t))}function zg(e,t,n,r,o,i){let s=X(),a=o[E],c=ie(s,o);Pl(a,o,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,p=Nt(o,a,d,s);Xe(p,o)}jl(a,o,s),c&&Xe(c,o);let l=Nt(o,a,s.directiveStart+s.componentOffset,s);if(e[re]=o[re]=l,i!==null)for(let u of i)u(l,t);return Nl(a,s,o),l}function Qg(e,t,n,r){if(r)ri(e,n,["ng-version","17.3.12"]);else{let{attrs:o,classes:i}=qf(t.selectors[0]);o&&ri(e,n,o),i&&i.length>0&&xl(e,n,i.join(" "))}}function Jg(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null?Array.from(i):null)}}function Kg(){let e=X();ns(R()[E],e)}var Yg=(()=>{class e{static{this.__NG_ELEMENT_ID__=Zg}}return e})();function Zg(){let e=X();return em(e,R())}var Xg=Yg,Jl=class extends Xg{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new ze(this._hostTNode,this._hostLView)}get parentInjector(){let t=rs(this._hostTNode,this._hostLView);if(Yc(t)){let n=Dr(t,this._hostLView),r=Cr(t),o=n[E].data[r+8];return new ze(o,n)}else return new ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ec(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Z}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ii(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,_i(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!ch(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new cn(Qe(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?l:this.parentInjector).get(Le,null);m&&(i=m)}let u=Qe(c.componentType??{}),d=Ii(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,_i(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(wh(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[G],l=new Jl(c,c[he],c[G]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return $l(s,o,i,r),t.attachToViewContainerRef(),pc(Jo(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ec(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Sr(this._lContainer,n);r&&(yr(Jo(this._lContainer),n),ls(r[E],r))}detach(t){let n=this._adjustIndex(t,-1),r=Sr(this._lContainer,n);return r&&yr(Jo(this._lContainer),n)!=null?new Ot(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ec(e){return e[Ir]}function Jo(e){return e[Ir]||(e[Ir]=[])}function em(e,t){let n,r=t[e.index];return Te(r)?n=r:(n=Ll(r,t,null,e),t[e.index]=n,zr(t,n)),nm(n,t,e,r),new Jl(n,e,t)}function tm(e,t){let n=e[H],r=n.createComment(""),o=ie(t,e),i=us(n,o);return Nr(n,i,r,Pp(n,o),!1),r}var nm=im,rm=()=>!1;function om(e,t,n){return rm(e,t,n)}function im(e,t,n,r){if(e[Ke])return;let o;n.type&8?o=_e(r):o=tm(t,n),e[Ke]=o}function sm(e){return typeof e=="function"&&e[xo]!==void 0}function Kl(e){return sm(e)&&typeof e.set=="function"}function am(e){return Object.getPrototypeOf(e.prototype).constructor}function cm(e){let t=am(e.type),n=!0,r=[e];for(;t;){let o;if(Fe(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=lr(e.inputs),s.inputTransforms=lr(e.inputTransforms),s.declaredInputs=lr(e.declaredInputs),s.outputs=lr(e.outputs);let a=o.hostBindings;a&&hm(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&dm(e,c),l&&fm(e,l),lm(e,o),uf(e.outputs,o.outputs),Fe(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===cm&&(n=!1)}}t=Object.getPrototypeOf(t)}um(r)}function lm(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function um(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=tn(o.hostAttrs,n=tn(n,o.hostAttrs))}}function lr(e){return e===Ct?{}:e===ne?[]:e}function dm(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function fm(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function hm(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Nx(e){let t=e.inputConfig,n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}var et=class{},Ai=class{};var Oi=class extends et{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new kr(this);let o=Ic(t);this._bootstrapComponents=yl(o.bootstrap),this._r3Injector=sl(t,n,[{provide:et,useValue:this},{provide:Qr,useValue:this.componentFactoryResolver},...r],Y(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ki=class extends Ai{constructor(t){super(),this.moduleType=t}create(t){return new Oi(this.moduleType,t,[])}};var Rr=class extends et{constructor(t){super(),this.componentFactoryResolver=new kr(this),this.instance=null;let n=new nn([...t.providers,{provide:et,useValue:this},{provide:Qr,useValue:this.componentFactoryResolver}],t.parent||Wi(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function pm(e,t,n=null){return new Rr({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Yl=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Jr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function gm(e){return(e.flags&32)===32}function mm(e,t,n,r,o,i,s,a,c){let l=t.consts,u=Gr(t,e,4,s||null,xr(l,a));Rl(t,n,u,xr(l,c)),ns(t,u);let d=u.tView=ps(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function vm(e,t,n,r,o,i,s,a){let c=R(),l=se(),u=e+we,d=l.firstCreatePass?mm(u,l,c,t,n,r,o,i,s):l.data[u];dn(d,!1);let p=ym(l,c,d,e);es()&&ds(l,c,p,d),Xe(p,c);let f=Ll(p,c,p,d);return c[u]=f,zr(c,f),om(f,d,c),zi(d)&&Al(l,c,d),s!=null&&Ol(c,d,a),vm}var ym=wm;function wm(e,t,n,r){return ts(!0),t[H].createComment("")}function _m(e,t,n,r){let o=R(),i=Yi();if(Jr(o,i,t)){let s=se(),a=Qc();dg(a,o,e,t,n,r)}return _m}function ur(e,t){return e<<17|t<<2}function tt(e){return e>>17&32767}function bm(e){return(e&2)==2}function Im(e,t){return e&131071|t<<17}function Ri(e){return e|2}function kt(e){return(e&131068)>>2}function Ko(e,t){return e&-131069|t<<2}function Em(e){return(e&1)===1}function Pi(e){return e|1}function xm(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=tt(s),c=kt(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||un(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=tt(e[a+1]);e[r+1]=ur(p,a),p!==0&&(e[p+1]=Ko(e[p+1],r)),e[a+1]=Im(e[a+1],r)}else e[r+1]=ur(a,0),a!==0&&(e[a+1]=Ko(e[a+1],r)),a=r;else e[r+1]=ur(c,0),a===0?a=r:e[c+1]=Ko(e[c+1],r),c=r;l&&(e[r+1]=Ri(e[r+1])),tc(e,u,r,!0),tc(e,u,r,!1),Cm(t,u,e,r,i),s=ur(a,c),i?t.classBindings=s:t.styleBindings=s}function Cm(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&un(i,t)>=0&&(n[r+1]=Pi(n[r+1]))}function tc(e,t,n,r){let o=e[n+1],i=t===null,s=r?tt(o):kt(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];Dm(c,t)&&(a=!0,e[s+1]=r?Pi(l):Ri(l)),s=r?tt(l):kt(l)}a&&(e[n+1]=r?Ri(o):Pi(o))}function Dm(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?un(e,t)>=0:!1}function nc(e,t,n,r,o){let i=t.inputs,s=o?"class":"style";gs(e,n,i[s],s,r)}function Tm(e,t){return Mm(e,t,null,!0),Tm}function Mm(e,t,n,r){let o=R(),i=se(),s=Oh(2);if(i.firstUpdatePass&&Nm(i,e,s,r),t!==qr&&Jr(o,s,t)){let a=i.data[fn()];Pm(i,a,o,o[H],e,o[s+1]=jm(t,n),r,s)}}function Sm(e,t){return t>=e.expandoStartIndex}function Nm(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[fn()],s=Sm(e,n);Lm(i,r)&&t===null&&!s&&(t=!1),t=Am(o,i,t,r),xm(o,i,t,n,s,r)}}function Am(e,t,n,r){let o=jh(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=Yo(null,e,t,n,r),n=ln(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=Yo(o,e,t,n,r),i===null){let c=Om(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Yo(null,e,t,c[1],r),c=ln(c,t.attrs,r),km(e,t,r,c))}else i=Rm(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function Om(e,t,n){let r=n?t.classBindings:t.styleBindings;if(kt(r)!==0)return e[tt(r)]}function km(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[tt(o)]=r}function Rm(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=ln(r,s,n)}return ln(r,t.attrs,n)}function Yo(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=ln(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function ln(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Af(e,s,n?!0:t[++i]))}return e===void 0?null:e}function Pm(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Em(l)?rc(c,t,n,o,kt(l),s):void 0;if(!Pr(u)){Pr(i)||bm(l)&&(i=rc(c,null,n,o,a,s));let d=yh(fn(),n);Hp(r,s,d,o,i)}}function rc(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===qr&&(p=d?ne:void 0);let f=d?$o(p,r):u===r?p:void 0;if(l&&!Pr(f)&&(f=$o(c,r)),Pr(f)&&(a=f,s))return a;let g=e[o+1];o=s?tt(g):kt(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=$o(c,r))}return a}function Pr(e){return e!==void 0}function jm(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Y(ss(e)))),e}function Lm(e,t){return(e.flags&(t?8:16))!==0}function Ax(e,t,n){zl("NgControlFlow");let r=R(),o=Yi(),i=Fm(r,we+e),s=0;if(Jr(r,o,t)){let a=M(null);try{if(Ig(i,s),t!==-1){let c=Vm(r[E],we+t),l=Ii(i,c.tView.ssrId),u=_g(r,c,n,{dehydratedView:l});$l(i,u,s,_i(c,l))}}finally{M(a)}}else{let a=bg(i,s);a!==void 0&&(a[re]=n)}}function Fm(e,t){return e[t]}function Vm(e,t){return Qi(e,t)}function $m(e,t,n,r,o,i){let s=t.consts,a=xr(s,o),c=Gr(t,e,2,r,a);return Rl(t,n,c,xr(s,i)),c.attrs!==null&&Mi(c,c.attrs,!1),c.mergedAttrs!==null&&Mi(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Zl(e,t,n,r){let o=R(),i=se(),s=we+e,a=o[H],c=i.firstCreatePass?$m(s,i,o,t,n,r):i.data[s],l=Hm(i,o,c,a,t,e);o[s]=l;let u=zi(c);return dn(c,!0),Cl(a,l,c),!gm(c)&&es()&&ds(i,o,l,c),Eh()===0&&Xe(l,o),xh(),u&&(Al(i,o,c),Nl(i,c,o)),r!==null&&Ol(o,c),Zl}function Xl(){let e=X();Uc()?Nh():(e=e.parent,dn(e,!1));let t=e;Th(t)&&Mh(),Ch();let n=se();return n.firstCreatePass&&(ns(n,e),Oc(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&Bh(t)&&nc(n,t,R(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&qh(t)&&nc(n,t,R(),t.stylesWithoutHost,!1),Xl}function Um(e,t,n,r){return Zl(e,t,n,r),Xl(),Um}var Hm=(e,t,n,r,o,i)=>(ts(!0),wl(r,o,Vh()));function Ox(){return R()}var jr="en-US";var Bm=jr;function qm(e){typeof e=="string"&&(Bm=e.toLowerCase().replace(/_/g,"-"))}function Wm(e,t,n,r){let o=R(),i=se(),s=X();return eu(i,o,o[H],s,e,t,r),Wm}function Gm(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[rn],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function eu(e,t,n,r,o,i,s){let a=zi(r),l=e.firstCreatePass&&mg(e),u=t[re],d=gg(t),p=!0;if(r.type&3||s){let m=ie(r,t),v=s?s(m):m,b=d.length,$=s?P=>s(_e(P[r.index])):r.index,k=null;if(!s&&a&&(k=Gm(e,t,o,r.index)),k!==null){let P=k.__ngLastListenerFn__||k;P.__ngNextListenerFn__=i,k.__ngLastListenerFn__=i,p=!1}else{i=ic(r,t,u,i,!1);let P=n.listen(v,o,i);d.push(i,P),l&&l.push(o,$,b,b+1)}}else i=ic(r,t,u,i,!1);let f=r.outputs,g;if(p&&f!==null&&(g=f[o])){let m=g.length;if(m)for(let v=0;v<m;v+=2){let b=g[v],$=g[v+1],q=t[b][$].subscribe(i),V=d.length;d.push(i,q),l&&l.push(o,r.index,V,-(V+1))}}}function oc(e,t,n,r){let o=M(null);try{return ge(6,t,n),n(r)!==!1}catch(i){return Vl(e,i),!1}finally{ge(7,t,n),M(o)}}function ic(e,t,n,r,o){return function i(s){if(s===Function)return r;let a=e.componentOffset>-1?Ve(e.index,t):t;vs(a);let c=oc(t,n,r,s),l=i.__ngNextListenerFn__;for(;l;)c=oc(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return o&&c===!1&&s.preventDefault(),c}}function kx(e=1){return Fh(e)}function Rx(e,t=""){let n=R(),r=se(),o=e+we,i=r.firstCreatePass?Gr(r,o,1,t,null):r.data[o],s=zm(r,n,i,t,e);n[o]=s,es()&&ds(r,n,s,i),dn(i,!1)}var zm=(e,t,n,r,o)=>(ts(!0),xp(t[H],r));function Qm(e,t,n){Kl(t)&&(t=t());let r=R(),o=Yi();if(Jr(r,o,t)){let i=se(),s=Qc();Xp(i,s,r,e,t,r[H],n,!1)}return Qm}function Px(e,t){let n=Kl(e);return n&&e.set(t),n}function Jm(e,t){let n=R(),r=se(),o=X();return eu(r,n,n[H],o,e,t),Jm}function Km(e,t,n){let r=se();if(r.firstCreatePass){let o=Fe(e);ji(n,r.data,r.blueprint,o,!0),ji(t,r.data,r.blueprint,o,!1)}}function ji(e,t,n,r,o){if(e=z(e),Array.isArray(e))for(let i=0;i<e.length;i++)ji(e[i],t,n,r,o);else{let i=se(),s=R(),a=X(),c=Tt(e)?e:z(e.provide),l=Sc(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Tt(e)||!e.multi){let f=new Ze(l,o,hs),g=Xo(c,t,o?u:u+p,d);g===-1?(di(Tr(a,s),i,c),Zo(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Xo(c,t,u+p,d),g=Xo(c,t,u,u+p),m=f>=0&&n[f],v=g>=0&&n[g];if(o&&!v||!o&&!m){di(Tr(a,s),i,c);let b=Xm(o?Zm:Ym,n.length,o,r,l);!o&&v&&(n[g].providerFactory=b),Zo(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=tu(n[o?g:f],l,!o&&r);Zo(i,e,f>-1?f:g,b)}!o&&r&&v&&n[g].componentProviders++}}}function Zo(e,t,n,r){let o=Tt(t),i=eh(t);if(o||i){let c=(i?z(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function tu(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Xo(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function Ym(e,t,n,r){return Li(this.multi,[])}function Zm(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Nt(n,n[E],this.providerFactory.index,r);i=a.slice(0,s),Li(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Li(o,i);return i}function Li(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Xm(e,t,n,r,o){let i=new Ze(e,n,hs);return i.multi=[],i.index=t,i.componentProviders=0,tu(i,o,r&&!n),i}function jx(e,t=[]){return n=>{n.providersResolver=(r,o)=>Km(r,o?o(e):e,t)}}var ev=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Cc(!1,n.type),o=r.length>0?pm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:e,providedIn:"environment",factory:()=>new e(je(Le))})}}return e})();function Lx(e){zl("NgStandalone"),e.getStandaloneInjector=t=>t.get(ev).getOrCreateStandaloneInjector(e)}var Fx=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var tv=new F("");function nu(e){return!!e&&typeof e.then=="function"}function nv(e){return!!e&&typeof e.subscribe=="function"}var rv=new F(""),ru=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=W(rv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=o();if(nu(i))n.push(i);else if(nv(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ov=new F("");function iv(){Zs(()=>{throw new N(600,!1)})}function sv(e){return e.isBoundToModule}function av(e,t,n){try{let r=n();return nu(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ou=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=W(cl),this.afterRenderEffectManager=W(Ql),this.externalTestViews=new Set,this.beforeRender=new Ae,this.afterTick=new Ae,this.componentTypes=[],this.components=[],this.isStable=W(Yl).hasPendingTasks.pipe(Ce(n=>!n)),this._injector=W(Le)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let o=n instanceof Or;if(!this._injector.get(ru).done){let p=!o&&zf(n),f=!1;throw new N(405,f)}let s;o?s=n:s=this._injector.get(Qr).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=sv(s)?void 0:this._injector.get(et),c=r||s.selector,l=s.create(al.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(tv,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ei(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new N(101,!1);let r=M(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,M(r)}}detectChangesInAttachedViews(n){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===Hl)throw new N(103,!1);if(n){let i=r===0;this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)cv(s,i,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Fi(i))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Fi(i))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;ei(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(ov,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>ei(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ei(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function cv(e,t,n){!t&&!Fi(e)||lv(e,n,t)}function Fi(e){return Ki(e)}function lv(e,t,n){let r;n?(r=0,e[y]|=1024):e[y]&64?r=0:r=1,Bl(e,t,r)}var Vi=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Vx=(()=>{class e{compileModuleSync(n){return new ki(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Ic(n),i=yl(o.declarations).reduce((s,a)=>{let c=Qe(a);return c&&s.push(new cn(c)),s},[]);return new Vi(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var uv=(()=>{class e{constructor(){this.zone=W(ve),this.applicationRef=W(ou)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dv(e){return[{provide:ve,useFactory:e},{provide:wr,multi:!0,useFactory:()=>{let t=W(uv,{optional:!0});return()=>t.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let t=W(gv);return()=>{t.initialize()}}},{provide:cl,useFactory:fv}]}function fv(){let e=W(ve),t=W(At);return n=>e.runOutsideAngular(()=>t.handleError(n))}function hv(e){let t=dv(()=>new ve(pv(e)));return Jf([[],t])}function pv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var gv=(()=>{class e{constructor(){this.subscription=new U,this.initialized=!1,this.zone=W(ve),this.pendingTasks=W(Yl)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=oe({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function mv(){return typeof $localize<"u"&&$localize.locale||jr}var iu=new F("",{providedIn:"root",factory:()=>W(iu,D.Optional|D.SkipSelf)||mv()});var su=new F("");var gr=null;function vv(e=[],t){return al.create({name:t,providers:[{provide:Mc,useValue:"platform"},{provide:su,useValue:new Set([()=>gr=null])},...e]})}function yv(e=[]){if(gr)return gr;let t=vv(e);return gr=t,iv(),wv(t),t}function wv(e){e.get(dp,null)?.forEach(n=>n())}var $x=(()=>{class e{static{this.__NG_ELEMENT_ID__=_v}}return e})();function _v(e){return bv(X(),R(),(e&16)===16)}function bv(e,t,n){if(Hr(e)&&!n){let r=Ve(e.index,t);return new Ot(r,r)}else if(e.type&47){let r=t[ye];return new Ot(r,t)}return null}function Ux(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=yv(r),i=[hv(),...n||[]],a=new Rr({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ve);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(At,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),p=o.get(su);return p.add(d),a.onDestroy(()=>{u.unsubscribe(),p.delete(d)}),av(l,c,()=>{let f=a.get(ru);return f.runInitializers(),f.donePromise.then(()=>{let g=a.get(iu,jr);qm(g||jr);let m=a.get(ou);return t!==void 0&&m.bootstrap(t),m})})})}catch(t){return Promise.reject(t)}}function Hx(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var au=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var hn=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Kr=class extends hn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Yr=class extends hn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Zr=class extends hn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},ws=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(ws||{});var Iv=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},pn=class{constructor(t,{headers:n={},customFetch:r,region:o=ws.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=au(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Iv(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(g=>{throw new Kr(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Yr(u);if(!u.ok)throw new Zr(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var _u=yd(wu(),1),{PostgrestClient:bu,PostgrestQueryBuilder:cC,PostgrestFilterBuilder:lC,PostgrestTransformBuilder:uC,PostgrestBuilder:dC,PostgrestError:Rv}=_u.default;var Iu="2.11.2";var Eu={"X-Client-Info":`realtime-js/${Iu}`},xu="1.0.0",no=1e4,Cu=1e3,jt=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(jt||{}),ee=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ee||{}),ae=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(ae||{}),As=function(e){return e.websocket="websocket",e}(As||{}),nt=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(nt||{});var ro=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Lt=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var O=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(O||{}),ks=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=Pv(s,e,t,o),i),{})},Pv=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?Du(i,s):Os(s)},Du=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return Vv(t,n)}switch(e){case O.bool:return jv(t);case O.float4:case O.float8:case O.int2:case O.int4:case O.int8:case O.numeric:case O.oid:return Lv(t);case O.json:case O.jsonb:return Fv(t);case O.timestamp:return $v(t);case O.abstime:case O.date:case O.daterange:case O.int4range:case O.int8range:case O.money:case O.reltime:case O.text:case O.time:case O.timestamptz:case O.timetz:case O.tsrange:case O.tstzrange:return Os(t);default:return Os(t)}},Os=e=>e,jv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Lv=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Fv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Vv=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>Du(t,a))}return e},$v=e=>typeof e=="string"?e.replace(" ","T"):e,oo=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Ft=class{constructor(t,n,r={},o=no){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var bn=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(v=>v.presence_ref),f=d.map(v=>v.presence_ref),g=u.filter(v=>f.indexOf(v.presence_ref)<0),m=d.filter(v=>p.indexOf(v.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Me=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Me||{});var In=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ft(this,ae.join,this.params,this.timeout),this.rejoinTimer=new Lt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new bn(this),this.broadcastEndpointURL=oo(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>t?.(Me.CHANNEL_ERROR,u)),this._onClose(()=>t?.(Me.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){t?.(Me.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let v=0;v<g;v++){let b=f[v],{filter:{event:$,schema:k,table:P,filter:q}}=b,V=u&&u[v];if(V&&V.event===$&&V.schema===k&&V.table===P&&V.filter===q)m.push(Object.assign(Object.assign({},b),{id:V.id}));else{this.unsubscribe(),t?.(Me.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Me.SUBSCRIBED);return}})).receive("error",u=>{t?.(Me.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(Me.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return h(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ee.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Ft(this,ae.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Ft(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ae;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,v;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=f.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,v,b,$,k;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let P=f.id,q=(g=f.filter)===null||g===void 0?void 0:g.event;return P&&((m=n.ids)===null||m===void 0?void 0:m.includes(P))&&(q==="*"||q?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let P=($=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return P==="*"||P===((k=n?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:v,commit_timestamp:b,type:$,errors:k}=g;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:$,new:{},old:{},errors:k}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ae.close,{},t)}_onError(t){this._on(ae.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ks(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ks(t.columns,t.old_record)),n}};var Hv=()=>{},Bv=typeof WebSocket<"u",qv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,En=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Eu,this.params={},this.timeout=no,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Hv,this.conn=null,this.sendBuffer=[],this.serializer=new ro,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-6ISG364Z.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${As.websocket}`,this.httpEndpoint=oo(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lt(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Bv){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Rs(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-M3U5MHUS.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xu}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jt.connecting:return nt.Connecting;case jt.open:return nt.Open;case jt.closing:return nt.Closing;default:return nt.Closed}}isConnected(){return this.connectionState()===nt.Open}channel(t,n={config:{}}){let r=new In(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(ae.access_token,{access_token:n})})}})}sendHeartbeat(){return h(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Cu,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ae.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([qv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var Rs=class{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=jt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Vt=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function L(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var io=class extends Vt{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},rt=class extends Vt{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var Wv=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},ao=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Tu=()=>Wv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-6ISG364Z.js")).Response:Response}),so=e=>{if(Array.isArray(e))return e.map(n=>so(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=so(r)}),t};var ot=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gv=(e,t,n)=>ot(void 0,void 0,void 0,function*(){let r=yield Tu();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{t(new io(Ps(o),e.status||500))}).catch(o=>{t(new rt(Ps(o),o))}):t(new rt(Ps(e),e))}),zv=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function xn(e,t,n,r,o,i){return ot(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,zv(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Gv(c,a,r))})})}function $t(e,t,n,r){return ot(this,void 0,void 0,function*(){return xn(e,"GET",t,n,r)})}function be(e,t,n,r,o){return ot(this,void 0,void 0,function*(){return xn(e,"POST",t,r,o,n)})}function Mu(e,t,n,r,o){return ot(this,void 0,void 0,function*(){return xn(e,"PUT",t,r,o,n)})}function Su(e,t,n,r){return ot(this,void 0,void 0,function*(){return xn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function co(e,t,n,r,o){return ot(this,void 0,void 0,function*(){return xn(e,"DELETE",t,r,o,n)})}var J=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Qv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},lo=class{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=ao(o)}uploadOrUpdate(t,n,r,o){return J(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},Nu),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(L(i))return{data:null,error:i};throw i}})}upload(t,n,r){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return J(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:Nu.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(L(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return J(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield be(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Vt("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}update(t,n,r){return J(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return J(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}copy(t,n,r){return J(this,void 0,void 0,function*(){try{return{data:{path:(yield be(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return J(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield be(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return J(this,void 0,void 0,function*(){try{let o=yield be(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}download(t,n){return J(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield $t(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(L(a))return{data:null,error:a};throw a}})}info(t){return J(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield $t(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:so(r),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}exists(t){return J(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield Su(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(L(r)&&r instanceof rt){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return J(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}list(t,n,r){return J(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},Qv),n),{prefix:t||""});return{data:yield be(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(L(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var Au="2.7.1";var Ou={"X-Client-Info":`storage-js/${Au}`};var Ut=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},uo=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},Ou),n),this.fetch=ao(r)}listBuckets(){return Ut(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(L(t))return{data:null,error:t};throw t}})}getBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ut(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield Mu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield be(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield co(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}})}};var Cn=class extends uo{constructor(t,n={},r){super(t,n,r)}from(t){return new lo(this.url,this.headers,t,this.fetch)}};var ku="2.49.4";var Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";var Jv={"X-Client-Info":`supabase-js-${Dn}/${ku}`},Ru={headers:Jv},Pu={schema:"public"},ju={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lu={};Gs();var Kv=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Yv=e=>{let t;return e?t=e:typeof fetch>"u"?t=qs:t=fetch,(...n)=>t(...n)},Zv=()=>typeof Headers>"u"?Ws:Headers,Fu=(e,t,n)=>{let r=Yv(n),o=Zv();return(i,s)=>Kv(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var Xv=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function Vu(e){return e.replace(/\/$/,"")}function $u(e,t){let{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i),accessToken:()=>Xv(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var fo="2.69.1";var it=30*1e3,ho=3,po=ho*it,Uu="http://localhost:9999",Hu="supabase.auth.token";var Bu={"X-Client-Info":`gotrue-js/${fo}`};var Tn="X-Supabase-Api-Version",js={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qu=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wu=6e5;var Mn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var go=class extends Mn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Gu(e){return _(e)&&e.name==="AuthApiError"}var Ht=class extends Mn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Ie=class extends Mn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},ce=class extends Ie{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function zu(e){return _(e)&&e.name==="AuthSessionMissingError"}var Bt=class extends Ie{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},st=class extends Ie{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},at=class extends Ie{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Qu(e){return _(e)&&e.name==="AuthImplicitGrantRedirectError"}var Sn=class extends Ie{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},qt=class extends Ie{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function mo(e){return _(e)&&e.name==="AuthRetryableFetchError"}var Nn=class extends Ie{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Se=class extends Ie{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ku=` 	
\r=`.split(""),ey=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ku.length;t+=1)e[Ku[t].charCodeAt(0)]=-2;for(let t=0;t<Ju.length;t+=1)e[Ju[t].charCodeAt(0)]=t;return e})();function Yu(e,t,n){let r=ey[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ls(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{ry(s,r,n)};for(let s=0;s<e.length;s+=1)Yu(e.charCodeAt(s),o,i);return t.join("")}function ty(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ny(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}ty(r,t)}}function ry(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Zu(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Yu(e.charCodeAt(o),n,r);return new Uint8Array(t)}function Xu(e){let t=[];return ny(e,n=>t.push(n)),new Uint8Array(t)}function ed(e){return Math.round(Date.now()/1e3)+e}function td(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var pe=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},$e=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function nd(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var vo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-6ISG364Z.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},rd=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fs=(e,t,n)=>h(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),On=(e,t)=>h(void 0,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),kn=(e,t)=>h(void 0,null,function*(){yield e.removeItem(t)}),An=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};An.promiseConstructor=Promise;function yo(e){let t=e.split(".");if(t.length!==3)throw new Se("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qu.test(t[r]))throw new Se("JWT not in base64url format");return{header:JSON.parse(Ls(t[0])),payload:JSON.parse(Ls(t[1])),signature:Zu(t[2]),raw:{header:t[0],payload:t[1]}}}function od(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function id(e,t){return new Promise((r,o)=>{h(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function oy(e){return("0"+e.toString(16)).substr(-2)}function iy(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,oy).join("")}function sy(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function ay(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield sy(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function lt(e,t,n=!1){return h(this,null,function*(){let r=iy(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Fs(e,`${t}-code-verifier`,o);let i=yield ay(r);return[i,r===i?"plain":"s256"]})}var cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sd(e){let t=e.headers.get(Tn);if(!t||!t.match(cy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ad(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cd(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var ly=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},ut=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uy=[502,503,504];function ld(e){return h(this,null,function*(){var t;if(!rd(e))throw new qt(ut(e),0);if(uy.includes(e.status))throw new qt(ut(e),e.status);let n;try{n=yield e.json()}catch(i){throw new Ht(ut(i),i)}let r,o=sd(e);if(o&&o.getTime()>=js["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Nn(ut(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ce}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Nn(ut(n),e.status,n.weak_password.reasons);throw new go(ut(n),e.status||500,r)})}var dy=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function I(e,t,n,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Tn]||(i[Tn]=js["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield fy(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function fy(e,t,n,r,o,i){return h(this,null,function*(){let s=dy(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new qt(ut(c),0)}if(a.ok||(yield ld(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield ld(c)}})}function Ne(e){var t;let n=null;hy(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ed(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Vs(e){let t=Ne(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ee(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ud(e){return{data:e,error:null}}function dd(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=ly(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function fd(e){return e}function hy(e){return e.access_token&&e.refresh_token&&e.expires_in}var py=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Wt=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=vo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,n="global"){return h(this,null,function*(){try{return yield I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ee})}catch(o){if(_(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=py(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dd,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ee})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:fd});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(_(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){try{return yield I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ee})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){try{return yield I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ee})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){try{return yield I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ee})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){try{let{data:n,error:r}=yield I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}})}};var hd={getItem:e=>$e()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{$e()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{$e()&&globalThis.localStorage.removeItem(e)}};function $s(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function pd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var dt={debug:!!(globalThis&&$e()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Rn=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},wo=class extends Rn{};function Us(e,t,n){return h(this,null,function*(){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),dt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(this,null,function*(){if(o){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wo(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dt.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}pd();var gy={url:Uu,storageKey:Hu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bu,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function gd(e,t,n){return h(this,null,function*(){return yield n()})}var Hs=(()=>{class e{constructor(n){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},gy),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wt({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vo(i.fetch),this.lock=i.lock||gd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:pe()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Us:this.lock=gd,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:$e()?this.storage=hd:(this.memoryStorage={},this.storage=$s(this.memoryStorage)):(this.memoryStorage={},this.storage=$s(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fo}) ${new Date().toISOString()}`,...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r=nd(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),pe()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Qu(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new Ht("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,o,i;try{let s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ne}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return h(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield lt(this.storage,this.storageKey)),s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:Ne})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ne})}else throw new st("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vs})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Vs})}else throw new st("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Bt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield On(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:Ne});if(yield kn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Bt}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ne}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Bt}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield lt(this.storage,this.storageKey));let{error:p}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new st("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return h(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Ne});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield lt(this.storage,this.storageKey)),yield I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:ud})}catch(s){if(_(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ce;let{error:i}=yield I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield I(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield I(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new st("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<po:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ee}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ce}:yield I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ee})}))}catch(r){if(_(r))return zu(r)&&(yield this._removeSession(),yield kn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ce;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield lt(this.storage,this.storageKey));let{data:d,error:p}=yield I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ee});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(_(i))return{data:{user:null},error:i};throw i}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ce;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=yo(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ce;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!pe())throw new at("No browser detected.");if(n.error||n.error_description||n.error_code)throw new at(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Sn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new at("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Sn("No code detected.");let{data:k,error:P}=yield this._exchangeCodeForSession(n.code);if(P)throw P;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:k.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new at("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=it&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:v,error:b}=yield this._getUser(s);if(b)throw b;let $={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:n.type},error:null}}catch(o){if(_(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield On(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Gu(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield kn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=td(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield lt(this.storage,this.storageKey,!0));try{return yield I(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(_(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}linkIdentity(n){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield I(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return pe()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(_(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield I(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield id(i=>h(this,null,function*(){return i>0&&(yield od(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ne})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&mo(s)&&Date.now()+a-o<it})}catch(o){if(this._debug(r,"error",o),_(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),pe()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield On(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<po;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${po}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),mo(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,o;if(!n)throw new ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new An;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ce;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),_(s)){let a={session:null,error:s};return mo(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Fs(this.storage,this.storageKey,n)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield kn(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),it);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/it);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${it}ms, refresh threshold is ${ho} ticks`),i<=ho&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Rn)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield lt(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield I(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield I(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield I(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield I(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=yo(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i||(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+Wu>Date.now()))return i;let{data:s,error:a}=yield I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Se("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===n),!i)throw new Se("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(n,r={keys:[]}){try{let i=n;if(!i){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=yo(i);if(ad(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let d=cd(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,c,Xu(`${l}.${u}`))))throw new Se("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var my=Hs,Bs=my;var _o=class extends Bs{constructor(t){super(t)}};var vy=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},bo=class{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=Vu(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:Pu,realtime:Lu,auth:Object.assign(Object.assign({},ju),{storageKey:c}),global:Ru},u=$u(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Fu(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new bu(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new pn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cn(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return vy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _o({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new En(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var MT=(e,t,n)=>new bo(e,t,n);var kT={production:!0,apiUrl:"https://wiwtpafmxrfqcbitbclz.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Indpd3RwYWZteHJmcWNiaXRiY2x6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxNTUzODIsImV4cCI6MjA1OTczMTM4Mn0.cbxvJsfHp_Aiq5R9iRTXhCid7NZHRSjHaSkVRaAa_8A"};export{U as a,Md as b,jo as c,Lo as d,Ae as e,Qt as f,Jt as g,ke as h,Fd as i,Vd as j,$d as k,qe as l,Ce as m,Qd as n,We as o,ir as p,Kd as q,Yd as r,Kt as s,Ea as t,Zd as u,Yt as v,Fo as w,Xd as x,tf as y,Ca as z,Vo as A,nf as B,rf as C,of as D,sf as E,af as F,cf as G,N as H,ac as I,oe as J,dx as K,fx as L,F as M,D as N,je as O,W as P,en as Q,Dt as R,hx as S,px as T,gx as U,Jf as V,Mc as W,Le as X,mx as Y,uh as Z,vx as _,yx as $,wx as aa,_x as ba,al as ca,At as da,op as ea,ar as fa,bx as ga,Ix as ha,dp as ia,Ex as ja,xx as ka,Cx as la,mi as ma,Dx as na,hs as oa,Di as pa,Mx as qa,ve as ra,Yg as sa,cm as ta,Nx as ua,Ai as va,pm as wa,Yl as xa,vm as ya,_m as za,Tm as Aa,Ax as Ba,Zl as Ca,Xl as Da,Um as Ea,Ox as Fa,Wm as Ga,kx as Ha,Rx as Ia,Qm as Ja,Px as Ka,Jm as La,jx as Ma,Lx as Na,Fx as Oa,nu as Pa,ov as Qa,ou as Ra,Vx as Sa,$x as Ta,Ux as Ua,Hx as Va,MT as Wa,kT as Xa};
